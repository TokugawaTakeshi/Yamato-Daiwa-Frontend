@require "05-Typography/01-Headings.styl"
@require "05-Typography/02-Subheadings.styl"
@require "05-Typography/03-ParagraphLikeBlocks.styl"


TypographyDefaultProperties = {

  prefix: null,

  heading1: deeplyCloneAndOverrideObject(Heading1DefaultProperties, { class: "Heading1" }),
  heading2: deeplyCloneAndOverrideObject(Heading2DefaultProperties, {
    class: "Heading2",
    positionalRelationship: {
      heading1: { whenItJustBefore: 16px }
    }
  }),
  heading3: deeplyCloneAndOverrideObject(Heading3DefaultProperties, {
    class: "Heading3",
    positionalRelationship: {
      heading2: { whenItJustBefore: 12px }
    }
  }),
  heading4: deeplyCloneAndOverrideObject(Heading4DefaultProperties, {
    class: "Heading4",
    positionalRelationship: {
      heading3: { whenItJustBefore: 10px }
    }
  }),
  heading5: deeplyCloneAndOverrideObject(Heading5DefaultProperties, {
    class: "Heading5",
    positionalRelationship: {
      heading4: { whenItJustBefore: 8px }
    }
  }),
  heading6: deeplyCloneAndOverrideObject(Heading6DefaultProperties, {
    class: "Heading6",
    positionalRelationship: {
      heading5: { whenItJustBefore: 6px }
    }
  }),

  subheading1: deeplyCloneAndOverrideObject(Subheading1DefaultProperties, {
    class: "Subheading1",
    positionalRelationship: {
      heading1: { whenItJustBefore: 4px },
      heading2: { whenItJustAfter: 12px }
    }
  }),
  subheading2: deeplyCloneAndOverrideObject(Subheading2DefaultProperties, {
    class: "Subheading2",
    positionalRelationship: {
      heading2: { whenItJustBefore: 4px },
      heading3: { whenItJustAfter: 12px }
    }
  }),
  subheading3: deeplyCloneAndOverrideObject(Subheading3DefaultProperties, {
    class: "Subheading3",
    positionalRelationship: {
      heading3: { whenItJustBefore: 2px },
      heading4: { whenItJustAfter: 10px }
    }
  }),
  subheading4: deeplyCloneAndOverrideObject(Subheading4DefaultProperties, {
    class: "Subheading4",
    positionalRelationship: {
      heading4: { whenItJustBefore: 4px },
      heading5: { whenItJustAfter: 10px }
    }
  }),
  subheading5: deeplyCloneAndOverrideObject(Subheading5DefaultProperties, {
    class: "Subheading5",
    positionalRelationship: {
      heading5: { whenItJustBefore: 4px },
      heading6: { whenItJustAfter: 10px }
    }
  }),
  subheading6: deeplyCloneAndOverrideObject(Subheading6DefaultProperties, {
    class: "Subheading6",
    positionalRelationship: {
      heading6: { whenItJustBefore: 4px }
    }
  }),
}


generateTypographySelectors(preset = TypographyDefaultProperties, overridings = {})

  typographyProperties = deeplyCloneAndOverrideObject(preset, overridings)

  PREFIX_WITH_SEPARATOR = "";

  if (isNotNull(typographyProperties.prefix)) {
    PREFIX_WITH_SEPARATOR = typographyProperties.prefix + "-";
  }

  return {
    heading1: "." + PREFIX_WITH_SEPARATOR + typographyProperties.heading1.class,
    heading2: "." + PREFIX_WITH_SEPARATOR + typographyProperties.heading2.class,
    heading3: "." + PREFIX_WITH_SEPARATOR + typographyProperties.heading3.class,
    heading4: "." + PREFIX_WITH_SEPARATOR + typographyProperties.heading4.class,
    heading5: "." + PREFIX_WITH_SEPARATOR + typographyProperties.heading5.class,
    heading6: "." + PREFIX_WITH_SEPARATOR + typographyProperties.heading6.class,
    subheading1: "." + PREFIX_WITH_SEPARATOR + typographyProperties.subheading1.class,
    subheading2: "." + PREFIX_WITH_SEPARATOR + typographyProperties.subheading2.class,
    subheading3: "." + PREFIX_WITH_SEPARATOR + typographyProperties.subheading3.class,
    subheading4: "." + PREFIX_WITH_SEPARATOR + typographyProperties.subheading4.class,
    subheading5: "." + PREFIX_WITH_SEPARATOR + typographyProperties.subheading5.class,
    subheading6: "." + PREFIX_WITH_SEPARATOR + typographyProperties.subheading6.class
  }


provideTypography(preset = TypographyDefaultProperties, overridings = {})

  typographyProperties = deeplyCloneAndOverrideObject(preset, overridings)
  keysAndSelectorsMap = generateTypographySelectors(typographyProperties)


  setPositionalRelationship(positionalRelationship)
    if isNotNull(positionalRelationship)
      for elementKey, positionalRelationshipParameters in positionalRelationship
        PositionalRelationship({
          definitions: (keysAndSelectorsMap[elementKey] {
            retireFromIt: { y: positionalRelationshipParameters.whenItJustBefore },
            pushItFromSelf: { y: positionalRelationshipParameters.whenItJustAfter }
          })
        })


  HEADING_1_SELECTOR = keysAndSelectorsMap.heading1
  HEADING_2_SELECTOR = keysAndSelectorsMap.heading2
  HEADING_3_SELECTOR = keysAndSelectorsMap.heading3
  HEADING_4_SELECTOR = keysAndSelectorsMap.heading4
  HEADING_5_SELECTOR = keysAndSelectorsMap.heading5
  HEADING_6_SELECTOR = keysAndSelectorsMap.heading6

  SUBHEADING_1_SELECTOR = keysAndSelectorsMap.subheading1
  SUBHEADING_2_SELECTOR = keysAndSelectorsMap.subheading2
  SUBHEADING_3_SELECTOR = keysAndSelectorsMap.subheading3
  SUBHEADING_4_SELECTOR = keysAndSelectorsMap.subheading4
  SUBHEADING_5_SELECTOR = keysAndSelectorsMap.subheading5
  SUBHEADING_6_SELECTOR = keysAndSelectorsMap.subheading6


  // === Headings ======================================================================================================
  {HEADING_1_SELECTOR}

    Heading-Level1(typographyProperties.heading1)
    setPositionalRelationship(typographyProperties.heading1.positionalRelationship)


  {HEADING_2_SELECTOR}

    Heading-Level2(typographyProperties.heading2)
    setPositionalRelationship(typographyProperties.heading2.positionalRelationship)


  {HEADING_3_SELECTOR}

    Heading-Level3(typographyProperties.heading3)
    setPositionalRelationship(typographyProperties.heading3.positionalRelationship)


  {HEADING_4_SELECTOR}

    Heading-Level4(typographyProperties.heading4)
    setPositionalRelationship(typographyProperties.heading4.positionalRelationship)


  {HEADING_5_SELECTOR}

    Heading-Level5(typographyProperties.heading5)
    setPositionalRelationship(typographyProperties.heading5.positionalRelationship)


  {HEADING_6_SELECTOR}

    Heading-Level6(typographyProperties.heading6)
    setPositionalRelationship(typographyProperties.heading6.positionalRelationship)


  // === Subheading ====================================================================================================
  {SUBHEADING_1_SELECTOR}

    Subheading-Level1(typographyProperties.subheading1)
    setPositionalRelationship(typographyProperties.subheading1.positionalRelationship)


  {SUBHEADING_2_SELECTOR}

    Subheading-Level2(typographyProperties.subheading2)
    setPositionalRelationship(typographyProperties.subheading2.positionalRelationship)


  {SUBHEADING_3_SELECTOR}

    Subheading-Level3(typographyProperties.subheading3)
    setPositionalRelationship(typographyProperties.subheading3.positionalRelationship)


  {SUBHEADING_4_SELECTOR}

    Subheading-Level3(typographyProperties.subheading4)
    setPositionalRelationship(typographyProperties.subheading4.positionalRelationship)


  {SUBHEADING_5_SELECTOR}

    Subheading-Level3(typographyProperties.subheading5)
    setPositionalRelationship(typographyProperties.subheading5.positionalRelationship)


  {SUBHEADING_6_SELECTOR}

    Subheading-Level3(typographyProperties.subheading6)
    setPositionalRelationship(typographyProperties.subheading6.positionalRelationship)
