-
  !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.__PUG_EXTENSIONS_EXPORTS__=t():e.__PUG_EXTENSIONS_EXPORTS__=t()}(globalThis,(()=>(()=>{"use strict";var e,t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function n(e,t){return""===t?Array.from(e):e.split(t)}function a(e){return n(e,"").reverse().join("")}function o(e){return void 0===e}function i(e){let t=e.toString();const r=t.startsWith("-"),n=t.split(".")[1];if(t.length<5)return t;r&&(t=t.substring(1)),o(n)||(t=t.replace(`.${n}`,""));const i=a(t),c=a(i.substr(0,4)),s=a(i.substr(4,4)),l=a(i.substr(8,4)),u=a(i.substr(12,4)),m=a(i.substr(16,4)),d=a(i.substr(20));return(r?"-":"")+(d.length>0?`${d}`:"")+(m.length>0?`${m}京`:"")+(u.length>0?`${u}兆`:"")+(l.length>0?`${l}億`:"")+(s.length>0?`${s}万`:"")+`${c}`+(o(n)?"":`.${n}`)}function c(e){return/^[1-9]\d*$/u.test(e)}function s(e){const t=Math.pow(10,e.digitsAfterDecimalPoint);return Math.round(t*e.targetNumber)/t}function l(e){return String(e).replace(/\B(?=(?:\d{3})+(?!\d))/gu,",")}function u(e){return String(e).replace(/\B(?=(?:\d{4})+(?!\d))/gu,",")}t.r(r),t.d(r,{EmailAddress:()=>b,EscapeCharacters:()=>m,SpaceCharacters:()=>g,SpaceCharactersStringifiedHexCharactersForRegularExpressionWithUnicodeFlag:()=>y,addElementsToArray:()=>J,areStringifiedDigitsOnly:()=>S,buildEmailLinkHREF_AttributeValue:()=>me,buildPhoneNumberLinkHREF_AttributeValue:()=>de,capitalizeFirstCharacter:()=>A,formatNumberWith4KetaKanji:()=>i,getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>Y,getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>ee,getIndexesOfArrayElementsWhichSatisfiesThePredicate:()=>Z,getLastCharacter:()=>T,getLastElementOfNonEmptyArray:()=>te,getPositionsOfAllSubstringOccurrences:()=>w,getRandomArrayElement:()=>le,getRandomBoolean:()=>ue,getRandomInteger:()=>se,hasStringOnlySpecificCharacters:()=>P,insertSubstring:()=>v,insertSubstringIf:()=>I,isStringifiedNonNegativeIntegerOfRegularNotation:()=>c,latinCharacters__lowercase:()=>d,latinCharacters__uppercase:()=>f,removeAllSpecifiedCharacters:()=>L,removeArrayElementsByIndexes:()=>k,removeArrayElementsByPredicates:()=>ne,removeLastCharacter:()=>N,removeNonDigitsCharacters:()=>z,removeNthCharacter:()=>O,removeSpecificCharacterFromCertainPosition:()=>G,replace2OrMoreSpacesTo1:()=>U,replaceArrayElementsByIndexesImmutably:()=>ae,replaceArrayElementsByPredicates:()=>ie,replaceBrHTML_TagToNewLineEscapeSequence:()=>H,replaceDoubleBackslashesWithForwardSlashes:()=>K,reverseString:()=>a,roundToSpecifiedNearestDecimalPlaceValue:()=>s,separateEach3DigitsGroupWithComma:()=>l,separateEach4DigitsGroupWithComma:()=>u,splitString:()=>n,stringifiedDigits:()=>E,stringifyAndFormatArbitraryValue:()=>M,trimSpaces:()=>X,twoDimensionalizeArray:()=>ce}),function(e){e.backspace="\b",e.formFeed="\f",e.newLine="\n",e.carriageReturn="\r",e.horizontalTabulator="\t",e.verticalTabulator="\v"}(e||(e={}));const m=e,d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var p;!function(e){e.regularSpace=" ",e.noBreakSpace=" ",e.enSpace=" ",e.emSpace=" ",e.threePerEmSpace=" ",e.forPerEmSpace=" ",e.sixPerEmSpace=" ",e.figureSpace=" ",e.punctuationSpace=" ",e.thinSpace=" ",e.hairSpace=" ",e.zeroWidthSpace="​",e.ideographicSpace="　",e.zeroWithNoBreakSpace="\ufeff",e.characterTabulation="\t"}(p||(p={}));const g=p;var h;!function(e){e.regularSpace="\\u{0020}",e.noBreakSpace="\\u{00A0}",e.enSpace="\\u{2002}",e.emSpace="\\u{2003}",e.threePerEmSpace="\\u{2004}",e.forPerEmSpace="\\u{2005}",e.sixPerEmSpace="\\u{2006}",e.figureSpace="\\u{2007}",e.punctuationSpace="\\u{2008}",e.thinSpace="\\u{2009}",e.hairSpace="\\u{200A}",e.zeroWidthSpace="\\u{200B}",e.ideographicSpace="\\u{3000}",e.zeroWithNoBreakSpace="\\u{FEFF}",e.characterTabulation="\\u{0009}"}(h||(h={}));const y=h,E=["0","1","2","3","4","5","6","7","8","9"];function S(e){return/^\d+$/u.test(e)}function A(e){return e.charAt(0).toUpperCase()+e.slice(1)}class b{static isValid(e){return b.VALID_PATTERN.test(e)}}function T(e){return e[e.length-1]}function w(e,t){let r=e.indexOf(t);if(-1===r)return[];const n=[];do{n.push(r),r=e.indexOf(t,r+1)}while(-1!==r);return n}function $(e){return"string"==typeof e}function x(e,t){return t.forEach((t=>{e.add(t)})),e}function P(e,t){const r=new Set;if(Array.isArray(t))for(const e of t)1===e.length?r.add(e):x(r,n(e,""));else if($(t))x(r,n(t,""));else if(!0===t.latinUppercase&&x(r,f),!0===t.latinLowercase&&x(r,d),!0===t.digits&&x(r,E),Array.isArray(t.other))for(const e of t.other)x(r,n(e,""));else $(t.other)&&x(r,n(t.other,""));for(const t of n(e,""))if(!r.has(t))return!1;return!0}function v(e,t={}){return null==e||!1===t.condition?"":void 0===t.modifier?e.toString():t.modifier(e.toString())}function I(e,t){return t?e.toString():""}function L(e,t){let r;return r=Array.isArray(t)?t.join(""):t,e.replace(new RegExp(`[${r}]`,"gu"),"")}function N(e){const t=Array.from(e);return t.pop(),t.join("")}function z(e){return e.split("").filter((e=>/\d/u.test(e))).join("")}function O(e,t){const r=Array.from(e);return 0===t.numerationFrom?r.splice(t.targetCharacterNumber,1):r.splice(t.targetCharacterNumber-1,1),r.join("")}function D(e){return null!==e}function _(e){return void 0!==e}function B(e,t){return void 0===e?t:e}function M(e){if($(e))return e;if("number"==typeof e||"boolean"==typeof e||null==e)return String(e);var t;if(e instanceof Error)return String(e);if(e instanceof RegExp)return e.toString();if("object"==typeof(t=e)&&null!==t)try{let t;return t=e instanceof Set?JSON.stringify(Array.from(e),null,2):e instanceof Map?JSON.stringify(Object.fromEntries(e),null,2):JSON.stringify(e,null,2),"{}"===t?"{}":"[]"===t?"[]":t}catch(t){return String(e)}return String(e)}b.VALID_PATTERN=/^\w+(?:[.-]?\w+)*@\w+(?:[.-]?\w+)*(?:\.\w{2,3})+$/u;class F{static setImplementation(e){return F.implementation=e,F}static setLocalization(e){return F.localization=e,F}static throwErrorAndLog(e){if(D(F.implementation))return F.implementation.throwErrorAndLog(e);if("errorInstance"in e)throw e.errorInstance.message=`${e.title}\n${e.errorInstance.message}\n\n${F.localization.occurrenceLocation}: ${e.occurrenceLocation}${I(`\n\n${F.localization.wrappableError}:\n${M(e.wrappableError)}`,_(e.wrappableError))}${I(`\n\n${F.localization.appendedData}:\n${M(e.additionalData)}`,_(e.additionalData))}\n`,e.errorInstance;const t=new Error(e.description);throw t.name=e.errorType,t}static logError(e){D(F.implementation)?F.implementation.logError(e):console.error(`[ ${B(e.customBadgeText,F.localization.badgesDefaultTitles.error)} ] ${e.title}\n${e.description}\n\n${F.localization.errorType}: ${e.errorType}\n${F.localization.occurrenceLocation}: ${e.occurrenceLocation}${I(`\n\n${F.localization.caughtError}:\n${M(e.caughtError)}`+(e.caughtError instanceof Error?`\n${e.caughtError.stack}`:""),_(e.caughtError))}${I(`\n\n${F.localization.appendedData}:\n${M(e.additionalData)}`,_(e.additionalData))}`)}static logErrorLikeMessage(e){D(F.implementation)?F.implementation.logErrorLikeMessage(e):console.error(F.formatGenericLog(e,F.localization.badgesDefaultTitles.error))}static logWarning(e){D(F.implementation)?F.implementation.logWarning(e):console.warn(`[ ${B(e.customBadgeText,F.localization.badgesDefaultTitles.warning)} ] ${e.title}\n${e.description}\n\n${I(`${F.localization.occurrenceLocation}: ${e.occurrenceLocation}`,_(e.occurrenceLocation))}\n\n${I(`${F.localization.appendedData}: ${M(e.additionalData)}`,_(e.additionalData))}`)}static logInfo(e){D(F.implementation)?F.implementation.logInfo(e):console.info(F.formatGenericLog(e,F.localization.badgesDefaultTitles.info))}static logSuccess(e){D(F.implementation)?F.implementation.logSuccess(e):console.info(F.formatGenericLog(e,F.localization.badgesDefaultTitles.success))}static highlightText(e){return D(F.implementation)?F.implementation.highlightText(e):e}static formatGenericLog(e,t){return`[ ${B(e.customBadgeText,t)} ] ${e.title}\n${e.description}\n\n${I(`${F.localization.appendedData}: ${M(e.additionalData)}`,_(e.additionalData))}`}}F.implementation=null,F.localization={badgesDefaultTitles:{error:"Error",warning:"Warning",success:"Success",info:"Info"},errorType:"Error type",occurrenceLocation:"Occurrence location",caughtError:"Caught error",wrappableError:"Wrappable error",appendedData:"Appended data"};const C=F,R={defaultTitle:"Invalid parameter value",generateDescription:e=>`The value of parameter '${e.parameterName}' is invalid.${v(e.messageSpecificPart,{modifier:e=>`\n${e}`})}`};class j extends Error{constructor(e){super(),this.name=j.NAME,this.message="customMessage"in e?e.customMessage:j.localization.generateDescription(e)}}j.NAME="InvalidParameterValueError",j.localization=R;const V=j;var W;!function(e){e.removeArrayElementsByIndexes=function(e){const{targetArray:t,mutably:r}=e,n=t.length,a="number"==typeof e.indexes?[e.indexes]:e.indexes.sort(((e,t)=>e-t)),o=[],i=[],c=r?t:[...e.targetArray];for(const e of a.reverse())"number"==typeof(s=e)&&Number.isInteger(s)&&s>=0?e>=n?C.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterName:"namedParameters.indexes",messageSpecificPart:`The index ${e} is greater than index of last element of target array therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(namedParameters)"}):i.includes(e)?C.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterName:"namedParameters.indexes",messageSpecificPart:`Removing of element with index ${e} has been demanded more than one time.`}),occurrenceLocation:"removeArrayElementsByIndexes(namedParameters)"}):(o.push(c.splice(e,1)[0]),i.push(e)):C.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterName:"namedParameters.indexes",messageSpecificPart:`The index ${String(e)} is not the non-negative integer therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(namedParameters)"});var s;return{updatedArray:c,removedElements:o.reverse()}}}(W||(W={}));const k=W.removeArrayElementsByIndexes;function G(e){const t=Array.from(e.targetString);let r;return r="fromFirstPosition"in e?0:"fromLastPosition"in e?t.length-1:"fromPosition__numerationFrom0"in e?e.fromPosition__numerationFrom0:e.fromPosition__numerationFrom1-1,t[r]!==e.targetCharacter?e.targetString:k({targetArray:t,indexes:r,mutably:!0}).updatedArray.join("")}function U(e){return e.replace(/\s{2,}/gmu," ")}function H(e){return e.replace(/<br\s*\/*>/gu,"\n")}function K(e){return e.replace(/\\/gu,"/")}function X(e,t={}){const{skipLeadingOnes:r=!1,skipTrailingOnes:n=!1,targetSpacesKinds:a=Object.values(g),excludeKinds:i=[]}=t;if(n&&r)return e;let c="";for(const e of a)if(!i.includes(e)){const t=e.codePointAt(0);if(o(t))continue;const r=16,n=4;c=`${c}\\u{${t.toString(r).padStart(n,"0")}}`}let s=e;return r||(s=e.replace(new RegExp(`^[${c}]+`,"u"),"")),n||(s=e.replace(new RegExp(`[${c}]+$`,"u"),"")),s}function J(e){const t=e.mutably?e.targetArray:[...e.targetArray];if("toStart"in e)return t.unshift(...e.newElements),t;if("toEnd"in e)return t.push(...e.newElements),t;const r="toPosition__numerationFrom0"in e?e.toPosition__numerationFrom0:e.toPosition__numerationFrom1-1;return t.splice(r,0,...e.newElements),t}class q extends Error{constructor(e){super(),this.name=q.NAME,this.message=e}}q.NAME="UnexpectedEventError",q.localization={defaultTitle:"Unexpected event occurred"};const Q=q;function Y(e,t,{throwErrorIfElementNotFoundOrMoreThan1:r}={}){const n=e.filter(t);return 0===n.length?(!0===r&&C.throwErrorAndLog({errorInstance:new Q("Array element satisfies to specified predicate not found."),title:Q.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):n.length>1?(!0===r&&C.throwErrorAndLog({errorInstance:new Q("There are multiple element satisfies the predicate. As is follows from the function name, two or more matches case is being considered as unexpected event."),title:Q.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):n[0]}function Z(e,t){const r=[];return e.forEach(((e,n)=>{t(e)&&r.push(n)})),r}function ee(e,t,{throwErrorIfElementNotFoundOrMoreThan1:r}={}){const n=[];for(const[r,a]of e.entries())t(a)&&n.push(r);return 0===n.length?(!0===r&&C.throwErrorAndLog({errorInstance:new Q("Array element satisfies to specified predicate not found."),title:Q.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):n.length>1?(!0===r&&C.throwErrorAndLog({errorInstance:new Q("There are multiple element satisfies the predicate. As is follows from the function name, two or more matches case is being considered as unexpected event."),title:Q.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):n[0]}function te(e){return 0===e.length&&C.throwErrorAndLog({errorInstance:new Q("The array is empty thus it has not last element. As it follows from the function name, the empty arrays are being considered as error."),title:Q.localization.defaultTitle,occurrenceLocation:"getLastElementOfNonEmptyArray(targetArray)"}),e[e.length-1]}var re;!function(e){e.removeArrayElementsByPredicates=function(e){const{targetArray:t,mutably:r}=e,n=[];for(const r of[..."predicates"in e?e.predicates:[e.predicate]])n.push(...Z(t,r).filter((e=>!n.includes(e))));return{...k({targetArray:t,indexes:n,mutably:r}),indexesOfRemovedElements:n.sort(((e,t)=>e-t))}}}(re||(re={}));const ne=re.removeArrayElementsByPredicates;function ae(e){const t=[...e.targetArray],r="replacements"in e?e.replacements:[{index:e.index,newElement:e.newElement}];for(const e of r)t[e.index]=e.newElement;return t}var oe;!function(e){e.replaceArrayElementsByPredicates=function(e){const{targetArray:t,mutably:r}=e,n=new Map,a=[];let o;o="replacements"in e?e.replacements:"newValue"in e?[{predicate:e.predicate,newValue:e.newValue}]:[{predicate:e.predicate,replacer:e.replacer}];for(const e of o){const r=Z(t,e.predicate);for(const o of r)a.includes(o)?C.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterName:"namedParameters.replacements",messageSpecificPart:`The element with index ${o} is satisfies to multiple predicated therefore will be replaced more that one time.`}),occurrenceLocation:"replaceArrayElementsByPredicates(namedParameters)"}):a.push(o),n.set(o,"newValue"in e?e.newValue:e.replacer(t[o]))}const i=r?t:[...e.targetArray];for(const[e,t]of n)i[e]=t;return{updatedArray:i,indexesOfReplacedElements:a}}}(oe||(oe={}));const ie=oe.replaceArrayElementsByPredicates;function ce({targetFlatArray:e,elementsPerNestedArray:t}){const r=[],n=e.length;let a=[];for(const[o,i]of e.entries())a.push(i),o!==n-1?a.length===t&&(r.push(a),a=[]):r.push(a);return r}function se({minimalValue:e,maximalValue:t}){return Math.floor(Math.random()*(t-e+1)+e)}function le(e){return e[se({minimalValue:0,maximalValue:e.length-1})]}function ue(){return Math.random()>=.5}function me(e){return`mailto:${e}`}function de(e){return`tel:${e}`}return r})()));
