-
  !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.__PUG_EXTENSIONS_EXPORTS__=t():e.__PUG_EXTENSIONS_EXPORTS__=t()}(globalThis,(()=>(()=>{"use strict";var e,t={d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function a(e,t){return""===t?Array.from(e):e.split(t)}function i(e){return a(e,"").reverse().join("")}function o(e){return void 0===e}function n(e){let t=e.toString();const r=t.startsWith("-"),a=t.split(".")[1];if(t.length<5)return t;r&&(t=t.substring(1)),o(a)||(t=t.replace(`.${a}`,""));const n=i(t),s=i(n.substr(0,4)),l=i(n.substr(4,4)),u=i(n.substr(8,4)),c=i(n.substr(12,4)),d=i(n.substr(16,4)),m=i(n.substr(20));return(r?"-":"")+(m.length>0?`${m}`:"")+(d.length>0?`${d}京`:"")+(c.length>0?`${c}兆`:"")+(u.length>0?`${u}億`:"")+(l.length>0?`${l}万`:"")+`${s}`+(o(a)?"":`.${a}`)}function s(e){return/^[1-9]\d*$/u.test(e)}function l(e){const t=Math.pow(10,e.digitsAfterDecimalPoint);return Math.round(t*e.targetNumber)/t}function u(e){return String(e).replace(/\B(?=(?:\d{3})+(?!\d))/gu,",")}function c(e){return String(e).replace(/\B(?=(?:\d{4})+(?!\d))/gu,",")}t.r(r),t.d(r,{CalendarBuilder:()=>et,DaysOfWeek:()=>ot,EmailAddress:()=>P,EscapeCharacters:()=>d,HOURS_PER_STELLAR_DAY:()=>wt,HTTP_Methods:()=>It,Logger:()=>k,MINUTES_PER_HOUR:()=>vt,MONTHS_PER_YEAR:()=>Ke,MonthsNames:()=>qe,PugMixinsObjectTypeParametersProcessor:()=>Kt,RawObjectDataProcessor:()=>Rt,SECONDS_PER_MINUTE:()=>Ot,SpaceCharacters:()=>f,SpaceCharactersStringifiedHexCharactersForRegularExpressionWithUnicodeFlag:()=>y,TimePoint:()=>st,Timer:()=>lt,addElementsToArray:()=>ie,addMultipleElementsToSet:()=>A,addMultiplePairsToMap:()=>ye,areStringifiedDigitsOnly:()=>N,buildEmailLinkHREF_AttributeValue:()=>kt,buildPhoneNumberLinkHREF_AttributeValue:()=>Ut,capitalizeFirstCharacter:()=>E,computeFirstItemNumberForSpecificPaginationPage:()=>_t,computeLastItemNumberForSpecificPaginationPage:()=>Ft,convertPotentialStringToFloatIfPossible:()=>Qt,convertPotentialStringToIntegerIfPossible:()=>zt,convertPotentialStringToNumberIfPossible:()=>$t,createMapBasedOnOtherMap:()=>be,emptyStringToNull:()=>ut,filterMap:()=>Ne,formatNumberWith4KetaKanji:()=>n,getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>se,getDaysCountInSpecificMonth:()=>ke,getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>ue,getIndexesOfArrayElementsWhichSatisfiesThePredicate:()=>le,getLastCharacter:()=>M,getLastElementOfNonEmptyArray:()=>ce,getMonthNameByNumber:()=>We,getMonthNumberByName:()=>He,getNextMonthNumber:()=>Je,getPositionsOfAllSubstringOccurrences:()=>V,getPreviousMonthNumber:()=>Xe,getRandomArrayElement:()=>yt,getRandomBoolean:()=>Mt,getRandomInteger:()=>ht,getRandomLatinCharacter:()=>Vt,getRandomObjectPropertyValue:()=>St,getRandomString:()=>Pt,getRandomSubarray:()=>Tt,getSpecificBooleanValueWithProbability:()=>Dt,getYearOfNextMonth:()=>Ye,getYearOfPreviousMonth:()=>Ge,hasStringOnlySpecificCharacters:()=>x,hasTimeCome:()=>tt,insertSubstring:()=>C,insertSubstringIf:()=>T,isArbitraryObject:()=>Ie,isArrayOfCertainTypeElements:()=>_e,isArrayOfLength:()=>Le,isBoolean:()=>R,isDecimalFractionOfAnySign:()=>Ee,isEitherUndefinedOrNull:()=>$,isElementOfEnumeration:()=>ze,isEmptyArray:()=>je,isEmptyObject:()=>we,isEmptyString:()=>xe,isFunctionLike:()=>Qe,isNaturalNumber:()=>Pe,isNegativeDecimalFraction:()=>Me,isNegativeInteger:()=>Ve,isNegativeIntegerOrZero:()=>Se,isNeitherUndefinedNorNull:()=>Re,isNonEmptyArbitraryObject:()=>ve,isNonEmptyArray:()=>Be,isNonEmptyObject:()=>Oe,isNonEmptyString:()=>Ce,isNonNegativeInteger:()=>O,isNonNullObject:()=>j,isNotNull:()=>_,isNotUndefined:()=>F,isNull:()=>$e,isNumber:()=>B,isPositiveDecimalFraction:()=>Ae,isString:()=>S,isStringOfLength:()=>De,isStringifiedNonNegativeIntegerOfRegularNotation:()=>s,isUndefined:()=>o,lowercaseLatinCharacters:()=>m,millisecondsToSeconds:()=>rt,nullToEmptyString:()=>ct,nullToUndefined:()=>dt,nullToZero:()=>mt,removeAllSpecifiedCharacters:()=>D,removeArrayElementsByIndexes:()=>K,removeArrayElementsByPredicates:()=>me,removeLastCharacter:()=>I,removeNonDigitsCharacters:()=>w,removeNthCharacter:()=>v,removeRandomArrayElement:()=>At,removeSpecificCharacterFromCertainPosition:()=>Y,replace2OrMoreSpacesTo1:()=>H,replaceArrayElementsByIndexesImmutably:()=>ge,replaceArrayElementsByPredicates:()=>fe,replaceBrHTML_TagToNewLineEscapeSequence:()=>X,replaceDoubleBackslashesWithForwardSlashes:()=>J,reverseString:()=>i,roundToSpecifiedNearestDecimalPlaceValue:()=>l,secondsToMilliseconds:()=>at,separateEach3DigitsGroupWithComma:()=>u,separateEach4DigitsGroupWithComma:()=>c,splitString:()=>a,splitToPaginationCollection:()=>Lt,stringifiedDigits:()=>b,stringifyAndFormatArbitraryValue:()=>z,toLowerCamelCase:()=>ee,toScreamingSnakeCase:()=>te,toUpperCamelCase:()=>re,trimSpaces:()=>ae,twoDimensionalizeArray:()=>he,undefinedToEmptyArray:()=>gt,undefinedToEmptyString:()=>pt,undefinedToNull:()=>ft,uppercaseLatinCharacters:()=>g}),function(e){e.backspace="\b",e.formFeed="\f",e.newLine="\n",e.carriageReturn="\r",e.horizontalTabulator="\t",e.verticalTabulator="\v"}(e||(e={}));const d=e,m=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],g=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var p;!function(e){e.regularSpace=" ",e.noBreakSpace=" ",e.enSpace=" ",e.emSpace=" ",e.threePerEmSpace=" ",e.forPerEmSpace=" ",e.sixPerEmSpace=" ",e.figureSpace=" ",e.punctuationSpace=" ",e.thinSpace=" ",e.hairSpace=" ",e.zeroWidthSpace="​",e.ideographicSpace="　",e.zeroWithNoBreakSpace="\ufeff",e.characterTabulation="\t"}(p||(p={}));const f=p;var h;!function(e){e.regularSpace="\\u{0020}",e.noBreakSpace="\\u{00A0}",e.enSpace="\\u{2002}",e.emSpace="\\u{2003}",e.threePerEmSpace="\\u{2004}",e.forPerEmSpace="\\u{2005}",e.sixPerEmSpace="\\u{2006}",e.figureSpace="\\u{2007}",e.punctuationSpace="\\u{2008}",e.thinSpace="\\u{2009}",e.hairSpace="\\u{200A}",e.zeroWidthSpace="\\u{200B}",e.ideographicSpace="\\u{3000}",e.zeroWithNoBreakSpace="\\u{FEFF}",e.characterTabulation="\\u{0009}"}(h||(h={}));const y=h,b=["0","1","2","3","4","5","6","7","8","9"];function N(e){return/^\d+$/u.test(e)}function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}class P{static isValid(e){return P.VALID_PATTERN.test(e)}}function M(e){return e[e.length-1]}function V(e,t){let r=e.indexOf(t);if(-1===r)return[];const a=[];do{a.push(r),r=e.indexOf(t,r+1)}while(-1!==r);return a}function S(e){return"string"==typeof e}function A(e,t){return t.forEach((t=>{e.add(t)})),e}function x(e,t){const r=new Set;if(Array.isArray(t))for(const e of t)1===e.length?r.add(e):A(r,a(e,""));else if(S(t))A(r,a(t,""));else if(!0===t.latinUppercase&&A(r,g),!0===t.latinLowercase&&A(r,m),!0===t.digits&&A(r,b),Array.isArray(t.other))for(const e of t.other)A(r,a(e,""));else S(t.other)&&A(r,a(t.other,""));for(const t of a(e,""))if(!r.has(t))return!1;return!0}function C(e,t={}){return null==e||!1===t.condition?"":void 0===t.modifier?e.toString():t.modifier(e.toString())}function T(e,t){return t?e.toString():""}function D(e,t){let r;return r=Array.isArray(t)?t.join(""):t,e.replace(new RegExp(`[${r}]`,"gu"),"")}function I(e){const t=Array.from(e);return t.pop(),t.join("")}function w(e){return e.split("").filter((e=>/\d/u.test(e))).join("")}function v(e,t){const r=Array.from(e);return 0===t.numerationFrom?r.splice(t.targetCharacterNumber,1):r.splice(t.targetCharacterNumber-1,1),r.join("")}function O(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function _(e){return null!==e}function F(e){return void 0!==e}function L(e,t){return void 0===e?t:e}function j(e){return"object"==typeof e&&null!==e}function B(e){return"number"==typeof e}function R(e){return"boolean"==typeof e}function $(e){return null==e}function z(e){if(S(e))return e;if(B(e)||R(e)||$(e))return String(e);if(e instanceof Error)return String(e);if(e instanceof RegExp)return e.toString();if(j(e))try{let t;return t=e instanceof Set?JSON.stringify(Array.from(e),null,2):e instanceof Map?JSON.stringify(Object.fromEntries(e),null,2):JSON.stringify(e,null,2),"{}"===t?"{}":"[]"===t?"[]":t}catch(t){return String(e)}return String(e)}P.VALID_PATTERN=/^\w+(?:[.-]?\w+)*@\w+(?:[.-]?\w+)*(?:\.\w{2,3})+$/u;class Q{static setImplementation(e){return Q.implementation=e,Q}static setLocalization(e){return Q.localization=e,Q}static throwErrorAndLog(e){if(_(Q.implementation))return Q.implementation.throwErrorAndLog(e);if("errorInstance"in e)throw e.errorInstance.message=`${e.title}\n${e.errorInstance.message}\n\n${Q.localization.occurrenceLocation}: ${e.occurrenceLocation}${T(`\n\n${Q.localization.wrappableError}:\n${z(e.wrappableError)}`,F(e.wrappableError))}${T(`\n\n${Q.localization.appendedData}:\n${z(e.additionalData)}`,F(e.additionalData))}\n`,e.errorInstance;const t=new Error(e.description);throw t.name=e.errorType,t}static logError(e){_(Q.implementation)?Q.implementation.logError(e):console.error(`[ ${L(e.customBadgeText,Q.localization.badgesDefaultTitles.error)} ] ${e.title}\n${e.description}\n\n${Q.localization.errorType}: ${e.errorType}\n${Q.localization.occurrenceLocation}: ${e.occurrenceLocation}${T(`\n\n${Q.localization.caughtError}:\n${z(e.caughtError)}`+(e.caughtError instanceof Error?`\n${e.caughtError.stack}`:""),F(e.caughtError))}${T(`\n\n${Q.localization.appendedData}:\n${z(e.additionalData)}`,F(e.additionalData))}`)}static logErrorLikeMessage(e){_(Q.implementation)?Q.implementation.logErrorLikeMessage(e):console.error(Q.formatGenericLog(e,Q.localization.badgesDefaultTitles.error))}static logWarning(e){_(Q.implementation)?Q.implementation.logWarning(e):console.warn(`[ ${L(e.customBadgeText,Q.localization.badgesDefaultTitles.warning)} ] ${e.title}\n${e.description}\n\n${T(`${Q.localization.occurrenceLocation}: ${e.occurrenceLocation}`,F(e.occurrenceLocation))}\n\n${T(`${Q.localization.appendedData}: ${z(e.additionalData)}`,F(e.additionalData))}`)}static logInfo(e){_(Q.implementation)?Q.implementation.logInfo(e):console.info(Q.formatGenericLog(e,Q.localization.badgesDefaultTitles.info))}static logSuccess(e){_(Q.implementation)?Q.implementation.logSuccess(e):console.info(Q.formatGenericLog(e,Q.localization.badgesDefaultTitles.success))}static highlightText(e){return _(Q.implementation)?Q.implementation.highlightText(e):e}static formatGenericLog(e,t){return`[ ${L(e.customBadgeText,t)} ] ${e.title}\n${e.description}\n\n${T(`${Q.localization.appendedData}: ${z(e.additionalData)}`,F(e.additionalData))}`}}Q.implementation=null,Q.localization={badgesDefaultTitles:{error:"Error",warning:"Warning",success:"Success",info:"Info"},errorType:"Error type",occurrenceLocation:"Occurrence location",caughtError:"Caught error",wrappableError:"Wrappable error",appendedData:"Appended data"};const k=Q,U={defaultTitle:"Invalid parameter value",generateDescription:e=>`The value of parameter No. ${e.parameterNumber} (commonly named as '${e.parameterName}')' is invalid.${C(e.messageSpecificPart,{modifier:e=>`\n${e}`})}`};class q extends Error{constructor(e){super(),this.name=q.NAME,this.message="customMessage"in e?e.customMessage:q.localization.generateDescription(e)}}q.NAME="InvalidParameterValueError",q.localization=U;const W=q;var G;!function(e){e.removeArrayElementsByIndexes=function(e){const{targetArray:t,mutably:r}=e,a=t.length,i="number"==typeof e.indexes?[e.indexes]:e.indexes.sort(((e,t)=>e-t)),o=[],n=[],s=r?t:[...e.targetArray];for(const e of i.reverse())O(e)?e>=a?k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:W.localization.generateDescription({parameterNumber:1,parameterName:"namedParameters.indexes",messageSpecificPart:`The index ${e} is greater than index of last element of target array therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(namedParameters)"}):n.includes(e)?k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:W.localization.generateDescription({parameterNumber:1,parameterName:"namedParameters.indexes",messageSpecificPart:`Removing of element with index ${e} has been demanded more than one time.`}),occurrenceLocation:"removeArrayElementsByIndexes(namedParameters)"}):(o.push(s.splice(e,1)[0]),n.push(e)):k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:W.localization.generateDescription({parameterNumber:1,parameterName:"namedParameters.indexes",messageSpecificPart:`The index ${String(e)} is not the non-negative integer therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(namedParameters)"});return{updatedArray:s,removedElements:o.reverse()}}}(G||(G={}));const K=G.removeArrayElementsByIndexes;function Y(e){const t=Array.from(e.targetString);let r;return r="fromFirstPosition"in e?0:"fromLastPosition"in e?t.length-1:"fromPosition__numerationFrom0"in e?e.fromPosition__numerationFrom0:e.fromPosition__numerationFrom1-1,t[r]!==e.targetCharacter?e.targetString:K({targetArray:t,indexes:r,mutably:!0}).updatedArray.join("")}function H(e){return e.replace(/\s{2,}/gmu," ")}function X(e){return e.replace(/<br\s*\/*>/gu,"\n")}function J(e){return e.replace(/\\/gu,"/")}function Z(e){S(e)||k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:W.localization.defaultTitle,occurrenceLocation:"explodeToWords(targetString)"});const t=a(e,""),r=[];let i="";for(const[e,a]of t.entries()){if(" "===a||"-"===a||"_"===a){i.length>0&&(r.push(i),i="");continue}if(!/[a-zA-Z]/u.test(a)){r.push(i);continue}const o=/[A-Z]/u.test(a),n=e>1?t[e-1]:null,s=!!_(n)&&/[a-z]/u.test(n);if(""!==i&&s&&o){r.push(i),i=a;continue}const l=t[e+1],u=!!F(l)&&/[a-z]/u.test(l);""!==i&&o&&u?(r.push(i),i=a):i=`${i}${a}`}return r.push(i),r}function ee(e){S(e)||k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:W.localization.defaultTitle,occurrenceLocation:"toLowerCamelCase(targetString)"});const t=Z(e);let r="";for(const[e,a]of t.entries())r=0===e?`${r}${a.toLowerCase()}`:`${r}${E(a.toLowerCase())}`;return r}function te(e){return S(e)||k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:W.localization.defaultTitle,occurrenceLocation:"toLowerCamelCase(targetString)"}),Z(e).map((e=>e.toUpperCase())).join("_")}function re(e){return S(e)||k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:W.localization.defaultTitle,occurrenceLocation:"toUpperCamelCase(targetString)"}),E(ee(e))}function ae(e,t={}){const{skipLeadingOnes:r=!1,skipTrailingOnes:a=!1,targetSpacesKinds:i=Object.values(f),excludeKinds:n=[]}=t;if(a&&r)return e;let s="";for(const e of i)if(!n.includes(e)){const t=e.codePointAt(0);if(o(t))continue;const r=16,a=4;s=`${s}\\u{${t.toString(r).padStart(a,"0")}}`}let l=e;return r||(l=e.replace(new RegExp(`^[${s}]+`,"u"),"")),a||(l=e.replace(new RegExp(`[${s}]+$`,"u"),"")),l}function ie(e){const t=e.mutably?e.targetArray:[...e.targetArray];if("toStart"in e)return t.unshift(...e.newElements),t;if("toEnd"in e)return t.push(...e.newElements),t;const r="toPosition__numerationFrom0"in e?e.toPosition__numerationFrom0:e.toPosition__numerationFrom1-1;return t.splice(r,0,...e.newElements),t}class oe extends Error{constructor(e){super(),this.name=oe.NAME,this.message=e}}oe.NAME="UnexpectedEventError",oe.localization={defaultTitle:"Unexpected event occurred"};const ne=oe;function se(e,t,{throwErrorIfElementNotFoundOrMoreThan1:r}={}){const a=e.filter(t);return 0===a.length?(!0===r&&k.throwErrorAndLog({errorInstance:new ne("Array element satisfies to specified predicate not found."),title:ne.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a.length>1?(!0===r&&k.throwErrorAndLog({errorInstance:new ne("There are multiple element satisfies the predicate. As is follows from the function name, two or more matches case is being considered as unexpected event."),title:ne.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a[0]}function le(e,t){const r=[];return e.forEach(((e,a)=>{t(e)&&r.push(a)})),r}function ue(e,t,{throwErrorIfElementNotFoundOrMoreThan1:r}={}){const a=[];for(const[r,i]of e.entries())t(i)&&a.push(r);return 0===a.length?(!0===r&&k.throwErrorAndLog({errorInstance:new ne("Array element satisfies to specified predicate not found."),title:ne.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a.length>1?(!0===r&&k.throwErrorAndLog({errorInstance:new ne("There are multiple element satisfies the predicate. As is follows from the function name, two or more matches case is being considered as unexpected event."),title:ne.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a[0]}function ce(e){return 0===e.length&&k.throwErrorAndLog({errorInstance:new ne("The array is empty thus it has not last element. As it follows from the function name, the empty arrays are being considered as error."),title:ne.localization.defaultTitle,occurrenceLocation:"getLastElementOfNonEmptyArray(targetArray)"}),e[e.length-1]}var de;!function(e){e.removeArrayElementsByPredicates=function(e){const{targetArray:t,mutably:r}=e,a=[];for(const r of[..."predicates"in e?e.predicates:[e.predicate]])a.push(...le(t,r).filter((e=>!a.includes(e))));return{...K({targetArray:t,indexes:a,mutably:r}),indexesOfRemovedElements:a.sort(((e,t)=>e-t))}}}(de||(de={}));const me=de.removeArrayElementsByPredicates;function ge(e){const t=[...e.targetArray],r="replacements"in e?e.replacements:[{index:e.index,newElement:e.newElement}];for(const e of r)t[e.index]=e.newElement;return t}var pe;!function(e){e.replaceArrayElementsByPredicates=function(e){const{targetArray:t,mutably:r}=e,a=new Map,i=[];let o;o="replacements"in e?e.replacements:"newValue"in e?[{predicate:e.predicate,newValue:e.newValue}]:[{predicate:e.predicate,replacer:e.replacer}];for(const e of o){const r=le(t,e.predicate);for(const o of r)i.includes(o)?k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:W.localization.generateDescription({parameterNumber:1,parameterName:"namedParameters.replacements",messageSpecificPart:`The element with index ${o} is satisfies to multiple predicated therefore will be replaced more that one time.`}),occurrenceLocation:"replaceArrayElementsByPredicates(namedParameters)"}):i.push(o),a.set(o,"newValue"in e?e.newValue:e.replacer(t[o]))}const n=r?t:[...e.targetArray];for(const[e,t]of a)n[e]=t;return{updatedArray:n,indexesOfReplacedElements:i}}}(pe||(pe={}));const fe=pe.replaceArrayElementsByPredicates;function he({targetFlatArray:e,elementsPerNestedArray:t}){const r=[],a=e.length;let i=[];for(const[o,n]of e.entries())i.push(n),o!==a-1?i.length===t&&(r.push(i),i=[]):r.push(i);return r}function ye(e,t){for(const[r,a]of t)e.set(r,a);return e}function be(e,t){const r=new Map;return e.forEach(((e,a)=>{r.set(...t(a,e))})),r}function Ne(e,t){const r=new Map;return e.forEach(((e,a)=>{t(a,e)&&r.set(a,e)})),r}function Ee(e){return"number"==typeof e&&/^-?\d+\.\d+$/u.test(e.toString())}function Pe(e){return"number"==typeof e&&Number.isInteger(e)&&e>0}function Me(e){return"number"==typeof e&&/^-\d+\.\d+$/u.test(e.toString())}function Ve(e){return"number"==typeof e&&Number.isInteger(e)&&e<0}function Se(e){return"number"==typeof e&&Number.isInteger(e)&&e<=0}function Ae(e){return"number"==typeof e&&/^\d+\.\d+$/u.test(e.toString())}function xe(e){return"string"==typeof e&&0===e.length}function Ce(e){return"string"==typeof e&&e.length>0}var Te;!function(e){e.isStringOfLength=function(e,t){return"string"==typeof e&&(O(t.exactCharactersCount)?e.length===t.exactCharactersCount:O(t.minimalCharactersCount)&&O(t.maximalCharactersCount)?e.length>=t.minimalCharactersCount&&e.length<=t.maximalCharactersCount:O(t.minimalCharactersCount)?e.length>=t.minimalCharactersCount:!!O(t.maximalCharactersCount)&&e.length<=t.maximalCharactersCount)}}(Te||(Te={}));const De=Te.isStringOfLength;function Ie(e){return"object"==typeof e&&null!==e}function we(e){return"object"==typeof e&&null!==e&&0===Object.entries(e).length}function ve(e){return"object"==typeof e&&null!==e&&Object.entries(e).length>0}function Oe(e){return"object"==typeof e&&null!==e&&Object.entries(e).length>0}function _e(e,t){if(!Array.isArray(e))return!1;for(const r of e)if(!t(r))return!1;return!0}var Fe;!function(e){e.isArrayOfLength=function(e,t){return!!Array.isArray(e)&&(O(t.exactElementsCount)?e.length===t.exactElementsCount:O(t.minimalElementsCount)&&O(t.maximalElementsCount)?e.length>=t.minimalElementsCount&&e.length<=t.maximalElementsCount:O(t.minimalElementsCount)?e.length>=t.minimalElementsCount:!!O(t.maximalElementsCount)&&e.length<=t.maximalElementsCount)}}(Fe||(Fe={}));const Le=Fe.isArrayOfLength;function je(e){return Array.isArray(e)&&0===e.length}function Be(e){return!!Array.isArray(e)&&e.length>0}function Re(e){return null!=e}function $e(e){return null===e}function ze(e,t){for(const r of Object.values(t))if(r===e)return!0;return!1}function Qe(e){return e instanceof Function}function ke(e){const t="monthNumber__numerationFrom1"in e?e.monthNumber__numerationFrom1:e.monthNumber__numerationFrom0+1;return new Date(e.year,t,0).getDate()}var Ue;!function(e){e.january="JANUARY",e.february="FEBRUARY",e.march="MARCH",e.april="APRIL",e.may="MAY",e.june="JUNE",e.july="JULY",e.august="AUGUST",e.september="SEPTEMBER",e.october="OCTOBER",e.november="NOVEMBER",e.december="DECEMBER"}(Ue||(Ue={}));const qe=Ue;function We(e){const{targetMonthNumber:t,numerationFrom:r}=e;switch(0!==r&&1!==r&&k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters.numerationFrom",messageSpecificPart:`Supported month numerations are from 0 or 1 while actual value is ${r}.`}),title:W.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(namedParameters)"}),t){case 0:if(0===r)return qe.january;k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters",messageSpecificPart:"The month number 0 is invalid the numeration is from 1."}),title:W.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(namedParameters)"});case 1:return 1===r?qe.january:qe.february;case 2:return 1===r?qe.february:qe.march;case 3:return 1===r?qe.march:qe.april;case 4:return 1===r?qe.april:qe.may;case 5:return 1===r?qe.may:qe.june;case 6:return 1===r?qe.june:qe.july;case 7:return 1===r?qe.july:qe.august;case 8:return 1===r?qe.august:qe.september;case 9:return 1===r?qe.september:qe.october;case 10:return 1===r?qe.october:qe.november;case 11:return 1===r?qe.november:qe.december;case 12:if(1===r)return qe.december;k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters",messageSpecificPart:"The month number 12 is invalid the numeration is from 0."}),title:W.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(namedParameters)"});default:k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters.targetMonthNumber",messageSpecificPart:`The valid month number is the non-negative integer from 0 o 12 while actual value is ${t}`}),title:W.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(namedParameters)"})}}function Ge(e){return 1===("referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:e.referenceMonthNumber__numerationFrom0+1)?e.referenceYear-1:e.referenceYear}const Ke=12;function Ye(e){return("referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:e.referenceMonthNumber__numerationFrom0+1)===Ke?e.referenceYear+1:e.referenceYear}function He(e){const t=e.numerationFrom;0!==t&&1!==t&&k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters.numerationFrom",messageSpecificPart:`Supported month numerations are from 0 or 1 while actual value is ${t}.`}),title:W.localization.defaultTitle,occurrenceLocation:"getMonthNumberByName(namedParameters)"});const r=0===e.numerationFrom;switch(e.targetMonthName){case qe.january:return r?0:1;case qe.february:return r?1:2;case qe.march:return r?2:3;case qe.april:return r?3:4;case qe.may:return r?4:5;case qe.june:return r?5:6;case qe.july:return r?6:7;case qe.august:return r?7:8;case qe.september:return r?8:9;case qe.october:return r?9:10;case qe.november:return r?10:11;case qe.december:return r?11:12}}function Xe(e){let t;t="referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:"referenceMonthNumber__numerationFrom0"in e?e.referenceMonthNumber__numerationFrom0+1:He({targetMonthName:e.referenceMonthName,numerationFrom:1});const r=1===t?Ke:t-1;return 1===e.firstMonthNumberInRelationToReturnableValue?r:r-1}function Je(e){let t;t="referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:"referenceMonthNumber__numerationFrom0"in e?e.referenceMonthNumber__numerationFrom0+1:He({targetMonthName:e.referenceMonthName,numerationFrom:1});const r=t===Ke?1:t+1;return 1===e.firstMonthNumberInRelationToReturnableValue?r:r-1}class Ze{constructor(e){this.dataFor42DaysMatrix=[],this.targetYear=e.targetYear,this.targetMonthNumber__numerationFrom0="targetMonthNumber__numerationFrom0"in e?e.targetMonthNumber__numerationFrom0:e.targetMonthNumber__numerationFrom1-1,this.yearOfPreviousMonth=Ge({referenceYear:this.targetYear,referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),this.yearOfNextMonth=Ye({referenceYear:this.targetYear,referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),this.previousMonthNumber__numerationFrom0=Xe({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0}),this.nextMonthNumber__numerationFrom0=Je({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0}),this.numberOfFirstDayOfTargetMonthInWeek__numerationFrom0AsSunday=new Date(this.targetYear,this.targetMonthNumber__numerationFrom0).getDay(),this.daysInTargetMonth=ke({year:this.targetYear,monthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),this.daysInPreviousMonth=ke({year:this.yearOfPreviousMonth,monthNumber__numerationFrom0:Xe({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0})}),this.cellNumberOfLastDayInTargetMonth__numerationFrom0=this.numberOfFirstDayOfTargetMonthInWeek__numerationFrom0AsSunday+this.daysInTargetMonth-1}static generateDataFor42DaysMatrix(e){return new Ze(e).fillMatrixByDaysOfTargetMonth().fillMatrixByDaysOfPreviousMonth().fillMatrixDyDaysOfNextMonth().dataFor42DaysMatrix}fillMatrixByDaysOfTargetMonth(){let e=1;const t=We({targetMonthNumber:this.targetMonthNumber__numerationFrom0,numerationFrom:0});for(let r=this.numberOfFirstDayOfTargetMonthInWeek__numerationFrom0AsSunday;r<=this.cellNumberOfLastDayInTargetMonth__numerationFrom0;r++)this.dataFor42DaysMatrix[r]={year:this.targetYear,month__numerationFrom0:this.targetMonthNumber__numerationFrom0,month__numerationFrom1:this.targetMonthNumber__numerationFrom0+1,monthName:t,dayOfMonth:e},e+=1;return this}fillMatrixByDaysOfPreviousMonth(){if(0===this.numberOfFirstDayOfTargetMonthInWeek__numerationFrom0AsSunday)return this;let e=this.daysInPreviousMonth;for(let t=this.numberOfFirstDayOfTargetMonthInWeek__numerationFrom0AsSunday-1;t>=0;t--)this.dataFor42DaysMatrix[t]={year:this.yearOfPreviousMonth,month__numerationFrom0:this.previousMonthNumber__numerationFrom0,get month__numerationFrom1(){return this.month__numerationFrom0+1},get monthName(){return We({targetMonthNumber:this.month__numerationFrom0,numerationFrom:0})},dayOfMonth:e},e-=1;return this}fillMatrixDyDaysOfNextMonth(){if(F(this.dataFor42DaysMatrix[Ze.CELLS_IN_MATRIX-1]))return this;let e=1;for(let t=this.cellNumberOfLastDayInTargetMonth__numerationFrom0+1;t<=Ze.CELLS_IN_MATRIX-1;t++)this.dataFor42DaysMatrix[t]={year:this.yearOfNextMonth,month__numerationFrom0:this.nextMonthNumber__numerationFrom0,get month__numerationFrom1(){return this.month__numerationFrom0+1},get monthName(){return We({targetMonthNumber:this.month__numerationFrom0,numerationFrom:0})},dayOfMonth:e},e+=1;return this}}Ze.CELLS_IN_MATRIX=42;const et=Ze;function tt(e){const t="string"==typeof e?new Date(e):e,r=new Date;return t.getTime()-r.getTime()<=0}function rt(e){return e/1e3}function at(e){return 1e3*e}var it;!function(e){e.sunday="SUNDAY",e.monday="MONDAY",e.tuesday="TUESDAY",e.wednesday="WEDNESDAY",e.thursday="THURSDAY",e.friday="FRIDAY",e.saturday="SATURDAY"}(it||(it={}));const ot=it;class nt{constructor(e){let t;switch(B(e)||S(e)?(t=new Date(e),"Invalid Date"===t.toString()&&k.throwErrorAndLog({errorInstance:new W({customMessage:nt.localization.errors.invalidRawDateTime}),title:W.localization.defaultTitle,occurrenceLocation:"TimePoint.constructor(rawDateTime)"})):t=e,this.nativeDateObject=t,this.year=t.getFullYear(),this.monthNumber__numerationFrom0=t.getMonth(),this.monthNumber__numerationFrom1=this.monthNumber__numerationFrom0+1,this.monthNumber__numerationFrom1__2Digits=this.monthNumber__numerationFrom1.toString().padStart(2,"0"),this.monthName=We({targetMonthNumber:this.monthNumber__numerationFrom1,numerationFrom:1}),this.dayOfMonth=t.getDate(),this.dayOfMonth__2Digits=this.dayOfMonth.toString().padStart(2,"0"),this.dayOfWeekNumber__numerationFrom0AsSunday=t.getDay(),this.dayOfWeekNumber__numerationFrom1AsSunday=this.dayOfWeekNumber__numerationFrom0AsSunday+1,this.dayOfWeekNumber__numerationFrom1AsSunday__2Digits=this.dayOfWeekNumber__numerationFrom1AsSunday.toString().padStart(2,"0"),this.dayOfWeekNumber__numerationFrom1AsSunday){case 1:this.dayOfWeek=ot.sunday;break;case 2:this.dayOfWeek=ot.monday;break;case 3:this.dayOfWeek=ot.tuesday;break;case 4:this.dayOfWeek=ot.wednesday;break;case 5:this.dayOfWeek=ot.thursday;break;case 6:this.dayOfWeek=ot.friday;break;default:this.dayOfWeek=ot.saturday}this.hours__24Format=t.getHours(),this.hours__24Format__2Digits=this.hours__24Format.toString().padStart(2,"0"),this.isBeforeMidday=this.hours__24Format<13,this.isAfterMidday=!this.isBeforeMidday,0===this.hours__24Format?this.hours__12Format=12:this.hours__24Format<13?this.hours__12Format=this.hours__24Format:this.hours__12Format=this.hours__24Format-12,this.minutes=t.getMinutes(),this.minutes__2Digits=this.minutes.toString().padStart(2,"0"),this.seconds=t.getSeconds(),this.seconds__2Digits=this.seconds.toString().padStart(2,"0"),this.milliseconds=t.getMilliseconds()}static setLocalization(e){nt.localization=e}toISO8601String(){return this.nativeDateObject.toISOString()}}nt.localization={errors:{invalidRawDateTime:"If the parameter of TimePoint's constructor is not the Date instance, it must the the valid ISO 8601 string or amount of milliseconds elapsed since the UNIX epoch."}};const st=nt;class lt{constructor(e){this.period__seconds=e.period__seconds,this.onElapsed=e.onElapsed}}function ut(e){return e.length>0?e:null}function ct(e){return null===e?"":e}function dt(e){return null===e?void 0:e}function mt(e){return null===e?0:e}function gt(e){return void 0===e?[]:e}function pt(e){return"string"==typeof e&&e.length>0?e:""}function ft(e){return void 0===e?null:e}function ht({minimalValue:e,maximalValue:t}){return Math.floor(Math.random()*(t-e+1)+e)}function yt(e){return e[ht({minimalValue:0,maximalValue:e.length-1})]}class bt extends Error{constructor(e){super(),this.name=bt.NAME,this.message="customMessage"in e?e.customMessage:bt.localization.generateDescription(e)}}bt.NAME="IncompatiblePropertiesError",bt.localization={defaultTitle:"Incompatible properties in object-type parameter",generateDescription:e=>`In parameter '${e.parameterName}, property '${e.conflictingPropertyName}' is incompatible with properties:${e.incompatiblePropertiesNames.reduce(((e,t)=>`${e}\n- ${t}`),"")}`};const Nt=bt;class Et{static getRandomString(e){const t=pt(e.prefix),r=pt(e.infix),a=pt(e.postfix),i=t.length+r.length+a.length;let n;if(o(e.fixedCharactersCount)){const o=Et.getMinimalCharactersCount({prefixInfixAndPostfixTotalCharactersCount:i,minimalCharactersCount__explicitlySpecified:e.minimalCharactersCount,fixedCharactersCount__explicitlySpecified:e.fixedCharactersCount,minimalRandomlyGeneratedCharactersCount__explicitlySpecified:e.minimalRandomlyGeneratedCharactersCount}),s=i+L(e.minimalRandomlyGeneratedCharactersCount,0)<=o?o-i:L(e.minimalRandomlyGeneratedCharactersCount,0);n=ht({minimalValue:s,maximalValue:Et.getMaximalCharactersCont({...e,minimalCharactersCount:o,prefix:t,infix:r,postfix:a,minimalRandomlyGeneratedCharactersCount:s})-i})}else n=e.fixedCharactersCount-i-L(e.minimalRandomlyGeneratedCharactersCount,0);let s="";const l=Et.getCharactersForRandomStringGeneration(e.allowedCharacters);for(let e=s.length;e<n;e++)s=`${s}${yt(l)}`;if(r.length>0){const e=ht({minimalValue:1,maximalValue:s.length-2}),t=s.slice(0,e),a=s.slice(e);s=`${t}${r}${a}`}return`${t}${s}${a}`}static setLocalization(e){Et.localization=e}static getMinimalCharactersCount({prefixInfixAndPostfixTotalCharactersCount:e,minimalCharactersCount__explicitlySpecified:t,fixedCharactersCount__explicitlySpecified:r,minimalRandomlyGeneratedCharactersCount__explicitlySpecified:a}){if(o(t))return e+L(a,0);F(r)&&k.throwErrorAndLog({errorInstance:new Nt({parameterName:"parametersObject",conflictingPropertyName:"fixedCharactersCount__explicitlySpecified",incompatiblePropertiesNames:["minimalCharactersCount__explicitlySpecified"]}),title:Nt.localization.defaultTitle,occurrenceLocation:"getRandomString(parametersObject)"}),t<0&&k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"parametersObject.minimalCharactersCount",messageSpecificPart:Et.localization.errors.minimalCharactersCountMustBeGreaterThan0(t)}),title:W.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(parametersObject)"});const i=e+L(a,0);return t>=i?t:i}static getMaximalCharactersCont(e){if(o(e.maximalCharactersCount))return Et.DEFAULT_MAXIMAL_TO_MINIMAL_CHARACTERS_COUNT_RATIO*e.minimalCharactersCount;F(e.fixedCharactersCount)&&k.throwErrorAndLog({errorInstance:new Nt({parameterName:"namedParameters",conflictingPropertyName:"fixedCharactersCount",incompatiblePropertiesNames:["maximalCharactersCount"]}),title:Nt.localization.defaultTitle,occurrenceLocation:"getRandomString(namedParameters)"});const t=e.maximalCharactersCount;return e.prefix.length+e.infix.length+e.postfix.length+e.minimalRandomlyGeneratedCharactersCount>t?k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters.minimalCharactersCount",messageSpecificPart:Et.localization.errors.sumOfCharactersCountOfAffixesAndMinimalRandomlyGeneratedCharactersCountIsExceedsMaximalCharactersCount(e)}),title:W.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(namedParameters)"}):e.minimalCharactersCount>t&&k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"namedParameters.minimalCharactersCount",messageSpecificPart:Et.localization.errors.explicitlySpecifiedMinimalCharactersCountExceedsMaximalCharactersCount({minimalCharactersCount:e.minimalCharactersCount,maximalCharactersCount:t})}),title:W.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(namedParameters)"}),t}static getCharactersForRandomStringGeneration(e={latinUppercase:!0,latinLowercase:!0,digits:!0}){const t=[];!0===e.latinUppercase&&t.push(...g),!0===e.latinLowercase&&t.push(...m),!0===e.digits&&t.push(...b);const r=[];if(Array.isArray(e.other))for(const e of r)r.push(...e.split(""));else S(e.other)&&r.push(...e.other.split(""));return t.push(...r),0===t.length&&k.throwErrorAndLog({errorInstance:new W({parameterName:"parametersObject.allowedCharacters",customMessage:Et.localization.errors.noAllowedCharactersForRandomGeneration}),title:W.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(parametersObject)"}),t}}Et.localization={errors:{minimalCharactersCountMustBeGreaterThan0:e=>`The 'minimalCharactersCount' property must be greater than 0 while really it's ${e}`,sumOfCharactersCountOfAffixesAndMinimalRandomlyGeneratedCharactersCountIsExceedsMaximalCharactersCount:e=>`The sum of characters count of 'prefix', 'infix' and 'postfix' and also 'minimalRandomlyGeneratedCharactersCount' are exceeds the 'maximalCharactersCount':\n                          prefix.length: ${e.prefix.length}                           infix.length: ${e.infix.length}                         postfix.length: ${e.postfix.length}minimalRandomlyGeneratedCharactersCount: ${e.minimalRandomlyGeneratedCharactersCount}                               SUBTOTAL: ${e.prefix.length+e.infix.length+e.postfix.length+e.minimalRandomlyGeneratedCharactersCount}                 maximalCharactersCount: ${e.maximalCharactersCount}`,explicitlySpecifiedMinimalCharactersCountExceedsMaximalCharactersCount:({minimalCharactersCount:e,maximalCharactersCount:t})=>`The explicitly specified minimal characters count (${e}) exceeds the maximal characters count ${t}`,noAllowedCharactersForRandomGeneration:"No characters for the random string generation has been allowed allowed.Check the 'parametersObject.allowedCharacters' and satisfy at least on of below conditions:\n  * Set 'latinUppercase' property to true\n  * Set 'latinLowercase' property to true\n  * Set 'digits' property to true\n  * Set 'other' property to non-empty array\n"}},Et.DEFAULT_MAXIMAL_TO_MINIMAL_CHARACTERS_COUNT_RATIO=2;const Pt=Et.getRandomString;function Mt(){return Math.random()>=.5}function Vt({capital:e=!1,lowercase:t=!1}={}){return yt(e?g:t?m:Mt()?g:m)}function St(e){return yt(Object.values(e))}function At(e){const t=ht({minimalValue:0,maximalValue:e.length-1});return e.splice(t,1)[0]}var xt,Ct;function Tt(e,t={}){let r,a;F(t.minimalElementsCount)?(Number.isInteger(t.minimalElementsCount)||k.throwErrorAndLog({errorInstance:new W({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:xt.localization.generateInvalidMinimalElementsCountErrorMessage({actualValue:t.minimalElementsCount})}),title:W.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.minimalElementsCount<0&&k.throwErrorAndLog({errorInstance:new W({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:xt.localization.generateInvalidMinimalElementsCountErrorMessage({actualValue:t.minimalElementsCount})}),title:W.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),r=t.minimalElementsCount):r=1,F(t.maximalElementsCount)?(Number.isInteger(t.maximalElementsCount)||k.throwErrorAndLog({errorInstance:new W({parameterNumber:2,parameterName:"options.maximalElementsCount",messageSpecificPart:xt.localization.generateInvalidMaximalElementsCountErrorMessage({actualValue:t.maximalElementsCount})}),title:W.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.maximalElementsCount<r&&k.throwErrorAndLog({errorInstance:new W({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:xt.localization.generateMaximalElementCountIsSmallerThanMinimal({minimalElementsCount:r,maximalElementsCount:t.maximalElementsCount})}),title:W.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),a=t.maximalElementsCount):a=2*r;const i=ht({minimalValue:r,maximalValue:a});if(1===i)return[yt(e)];const o=Array.from(e),n=[];for(let e=0;e<i;e++)n.push(At(o));return n}function Dt({value:e,probability__percents:t}){return e?Math.random()<t/100:Math.random()>=t/100}!function(e){e.Localization__English={generateInvalidMinimalElementsCountErrorMessage:({actualValue:e})=>`The minimal elements count must the non-negative integer while it's actual value is ${e}.`,generateInvalidMaximalElementsCountErrorMessage:({actualValue:e})=>`The maximal elements count must the non-negative integer while it's actual value is ${e}.`,generateMaximalElementCountIsSmallerThanMinimal:({minimalElementsCount:e,maximalElementsCount:t})=>`The maximal elements count (${t}) is smaller than minimal elements count (${e}).`},e.localization=e.Localization__English,e.setLocalization=function(t){e.localization=t}}(xt||(xt={})),function(e){e.get="GET",e.post="POST",e.create="CREATE",e.put="PUT",e.delete="DELETE",e.options="OPTIONS",e.head="HEAD",e.connect="CONNECT",e.trace="TRACE",e.patch="PATCH"}(Ct||(Ct={}));const It=Ct,wt=24,vt=60,Ot=60;function _t({currentPageNumber:e,itemsCountPerPage:t}){return t*(e-1)+1}function Ft({currentPageNumber:e,itemsCountPerPage:t,totalItemsCount:r}){const a=e*t;return a>r?r:a}function Lt(e,t){const r=Math.ceil(e.length/t.itemsCountPerPaginationPage),a={pagesCount:r,getItemsForPage(e){const t=this[e];return void 0===t?[]:t}};let i=0,o=t.itemsCountPerPaginationPage;const n=0===t.pagesNumerationFrom?r:r+1;for(let r=t.pagesNumerationFrom;r<n;r++)a[r]=e.slice(i,o),i+=t.itemsCountPerPaginationPage,o=i+t.itemsCountPerPaginationPage;return a}const jt={errorMessageBasicTemplate({targetPropertyDotSeparatedQualifiedName:e,targetPropertyNewName:t,targetPropertyValue:r,targetPropertyValueSpecification:a,targetPropertyStringifiedValueBeforeFirstPreValidationModification:i,title:o,specificMessagePart:n}){const s=z({...a,type:this.valueType(a.type)});return`${o}\n\n●　Property / element: '${e}'${C(t,{modifier:e=>` (new name: ${e})`})}\n${n}\n\n●　Property / element specification: \n${s}\n●　Actual value: ${z(r)}${C(i,{modifier:e=>`\n●　Value before first pre-validation modification: ${e}`})}`},buildErrorMessagesListItemHeading:e=>`=== Error No. ${e} ==========`,rawDataIsNullErrorMessage:"Raw data, the first parameter of 'RawObjectDataProcessor.process' is null.",buildRawDataIsNotObjectErrorMessage:e=>`Raw data, the first parameter of 'RawObjectDataProcessor.process' an 'object' and actually has type '${e}'.`,buildValueTypeDoesNotMatchWithExpectedErrorMessageTextData({targetPropertyValue:e,targetPropertyValueSpecification:t}){return{title:"Expected and actual value types mismatch",specificMessagePart:`This value expected to have type '${this.valueType(t.type)}' while actually it's type is '${typeof e}'.`}},buildPreValidationModificationFailedErrorMessageTextData:e=>({title:"Pre-validation caused the error",specificMessagePart:`Pre-validation modification of this value caused below error:\n${z(e)}\nThis pre-validation modification has been skipped.`}),requiredPropertyIsMissingErrorMessageTextData:{title:"Required property is missing",specificMessagePart:"This property is 'undefined' while has been marked as required."},buildConditionallyRequiredPropertyIsMissingErrorMessageTextData:e=>({title:"Conditionally required property is missing",specificMessagePart:`This value is 'undefined' while requirement condition:\n"${e}"\nsatisfied.`}),nonNullableValueIsNullErrorMessageTextData:{title:"Non-nullable value is 'null'",specificMessagePart:"This value is 'null' while nullability has not been permitted by valid data specification."},buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessageTextData:({minimalElementsCount:e,actualElementsCount:t})=>({title:"Indexed array has less elements than expected minimum",specificMessagePart:`This value of indexed array type has ${t} elements while at least ${e} expected.`}),buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessageTextData:({maximalElementsCount:e,actualElementsCount:t})=>({title:"Indexed array has more elements than expected maximum",specificMessagePart:`This value of indexed array type has ${t} elements while maximally ${e} expected.`}),buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData:({exactElementsCount:e,actualElementsCount:t})=>({title:"The count of elements of indexed array does not match with expected fixed value",specificMessagePart:`This value of indexed array type has ${t} elements while exactly ${e} expected.`}),indexedArrayDisallowedUndefinedElementErrorMessageTextData:{title:"Disallowed undefined-type element of indexed array",specificMessagePart:"This element of indexed array is 'undefined' while undefined-type elements has not been allowed by valid element specification."},indexedArrayDisallowedNullElementErrorMessageTextData:{title:"Disallowed null element of indexed array",specificMessagePart:"This element of indexed array is 'null' while null elements has not been allowed by valid element specification."},buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessageTextData:({minimalEntriesCount:e,actualEntriesCount:t})=>({title:"Associative array has less entries than expected minimum",specificMessagePart:`This value of associative array type value has ${t} entries while at least ${e} expected.`}),buildAssociativeArrayEntriesCountIsMoreThanAllowedMaximumErrorMessageTextData:({maximalEntriesCount:e,actualEntriesCount:t})=>({title:"Associative array has more entries than expected maximum",specificMessagePart:`This value of associative array-type value has ${t} entries while maximally ${e} expected.`}),buildAssociativeArrayEntriesCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData:({exactEntriesCount:e,actualEntriesCount:t})=>({title:"The count of entries of associative array does not match with expected fixed value",specificMessagePart:`This value of associative array-type value has ${e} entries while exactly ${t} expected.`}),buildRequiredKeysOfAssociativeArrayAreMissingErrorMessageTextData:e=>({title:"Required key(s) of associative array are missing",specificMessagePart:`Below keys are missing but required for this associative array type value:\n${z(e)}`}),buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessageTextData:e=>({title:"Required keys alternatives are missing",specificMessagePart:`One of below keys must present in this associative array-type value, but actually none of them presents.\n${z(e)}`}),buildDisallowedKeysFoundInAssociativeArrayErrorMessageTextData:e=>({title:"Disallowed key(s) found in associative array",specificMessagePart:`Below keys presents in this associative array type value while these keys are disallowed.\n${z(e)}`}),associativeArrayDisallowedUndefinedValueErrorMessageTextData:{title:"Disallowed undefined-type value of associative array",specificMessagePart:"This value of associative array is 'undefined' while undefined-type values has not been allowed by valid value specification."},associativeArrayDisallowedNullValueErrorMessageTextData:{title:"Disallowed null value of associative array",specificMessagePart:"This value of associative array is 'null' while null values has not been allowed by valid value specification."},valueType(e){switch(Rt.getNormalizedValueTypeID(e)){case Rt.ValuesTypesIDs.number:return"number";case Rt.ValuesTypesIDs.string:return"string";case Rt.ValuesTypesIDs.boolean:return"boolean";case Rt.ValuesTypesIDs.indexedArrayOfUniformElements:return"indexed array of uniform elements";case Rt.ValuesTypesIDs.fixedKeyAndValuePairsObject:return"filed key and value pairs object";case Rt.ValuesTypesIDs.associativeArrayOfUniformTypeValues:return"associative array of uniform type values";case Rt.ValuesTypesIDs.oneOf:return"multiple alternatives allowed"}},numbersSet(e){switch(e){case Rt.NumbersSets.naturalNumber:return"natural number";case Rt.NumbersSets.nonNegativeInteger:return"non-negative integer";case Rt.NumbersSets.negativeInteger:return"negative integer";case Rt.NumbersSets.negativeIntegerOrZero:return"negative integer of zero";case Rt.NumbersSets.anyInteger:return"any integer";case Rt.NumbersSets.positiveDecimalFraction:return"positive decimal fraction";case Rt.NumbersSets.negativeDecimalFraction:return"negative decimal fraction";case Rt.NumbersSets.decimalFractionOfAnySign:return"decimal fraction on any sign";case Rt.NumbersSets.anyRealNumber:return"any real number"}},buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessageTextData(e){return{title:"Expected and actual numbers set mismatch",specificMessagePart:`Contrary to expectations, this numeric value is in not member of '${this.numbersSet(e)}'`}},valueIsNotAmongAllowedAlternativesErrorMessageTextData:{title:"Disallowed alternative of value",specificMessagePart:"This value is not among allowed alternatives."},buildNumericValueIsSmallerThanRequiredMinimumErrorMessageTextData:e=>({title:"Minimal value fall short",specificMessagePart:`This value is smaller than required minimal value ${e}.`}),buildNumericValueIsGreaterThanAllowedMaximumErrorMessageTextData:e=>({title:"Maximal numeric value exceeding",specificMessagePart:`This value is greater than required maximal value ${e}.`}),buildCharactersCountIsLessThanRequiredErrorMessageTextData:({minimalCharactersCount:e,realCharactersCount:t})=>({title:"Minimal characters count fall short",specificMessagePart:`This string value has ${t} characters while at least ${e} required.`}),buildCharactersCountIsMoreThanAllowedErrorMessageTextData:({maximalCharactersCount:e,realCharactersCount:t})=>({title:"Maximal characters count exceeding",specificMessagePart:`This string value has ${t} characters ${e} allowed as maximum.`}),buildCharactersCountDoesNotMatchWithSpecifiedErrorMessageTextData:({fixedCharactersCount:e,realCharactersCount:t})=>({title:"Fixed characters count mismatch",specificMessagePart:`The value has ${t} characters exactly ${e} required.`}),buildRegularExpressionMismatchErrorMessageTextData:e=>({title:"Regular expression mismatch",specificMessagePart:`This string value does not match with specified regular expression:\n ${e.toString()}`}),buildDisallowedBooleanValueVariantErrorMessageTextData:e=>({title:"Disallowed boolean variant",specificMessagePart:`This boolean value is '${e}' while only '${!e}' allowed.`}),buildIncompatibleValuesTypesAlternativesErrorDescription:e=>`The 'ValuesTypesIDs.fixedKeyAndValuePairsObject' (aliased as Object) and 'ValuesTypesIDs.associativeArrayOfUniformTypeValues' (aliased as Map) are incompatible alternatives of 'ValuesTypesIDs.oneOf' because from the viewpoint of ECMAScript both are the 'object'. Target value marked as invalid. Please correct below specification:\n ${z(e)}`,buildUnsupportedValueTypeErrorMessageTextData:e=>({title:"Unsupported value type",specificMessagePart:`This value has type ${typeof e.targetPropertyValue} which is not a valid parsed JSON`}),buildCustomValidationFailedErrorMessageTextData:e=>({title:"Custom validation did not passed",specificMessagePart:`This value did not passed the custom validation "${e}".`})};class Bt{constructor(e){this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging=[],this.currentlyIteratedPropertyNewNameForLogging=null,this.validationErrorsMessages=[],this.rawDataIsInvalid=!1,this.rawData=e.rawData,this.fullDataSpecification=e.fullDataSpecification,this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[0]=this.fullDataSpecification.nameForLogging,this.processingApproach=e.processingApproach,this.validationErrorsMessagesBuilder=e.validationErrorsMessagesBuilder}static process(e,t,r={}){var a;const i=null!==(a=r.localization)&&void 0!==a?a:Bt.defaultLocalization,o=new Bt.ValidationErrorsMessagesBuilder(i);if($e(e))return{rawDataIsInvalid:!0,validationErrorsMessages:[o.rawDataIsNullErrorMessage]};if(!Ie(e))return{rawDataIsInvalid:!0,validationErrorsMessages:[o.buildRawDataIsNotObjectErrorMessage(typeof e)]};const n=new Bt({rawData:e,fullDataSpecification:t,processingApproach:Bt.ProcessingApproaches.newObjectAssembling,validationErrorsMessagesBuilder:o});let s,l;switch(t.subtype){case Bt.ObjectSubtypes.fixedKeyAndValuePairsObject:s=n.processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:{type:Bt.ValuesTypesIDs.fixedKeyAndValuePairsObject,...t}});break;case Bt.ObjectSubtypes.indexedArray:s=n.processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:n.rawData,targetIndexedArrayTypeValueSpecification:{...t,type:Bt.ValuesTypesIDs.indexedArrayOfUniformElements}});break;case Bt.ObjectSubtypes.associativeArray:s=n.processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:n.rawData,targetAssociativeArrayTypeValueSpecification:{...t,type:Bt.ValuesTypesIDs.associativeArrayOfUniformTypeValues}})}return"isInvalid"in s||"isValidButValidationOnlyModeActive"in s?{rawDataIsInvalid:!0,validationErrorsMessages:n.validationErrorsMessages}:(l=F(r.postProcessing)?r.postProcessing(s.processedValue):s.processedValue,{rawDataIsInvalid:!1,processedData:l})}static formatValidationErrorsList(e,t=Bt.defaultLocalization){return e.reduce(((e,r,a)=>`${e}\n\n${t.buildErrorMessagesListItemHeading(a+1)}\n${r}`),"")}static setDefaultLocalization(e){Bt.defaultLocalization=e}static getNormalizedValueTypeID(e){return e===Bt.ValuesTypesIDs.number||"function"==typeof e&&"Number"===e.name?Bt.ValuesTypesIDs.number:e===Bt.ValuesTypesIDs.string||"function"==typeof e&&"String"===e.name?Bt.ValuesTypesIDs.string:e===Bt.ValuesTypesIDs.boolean||"function"==typeof e&&"Boolean"===e.name?Bt.ValuesTypesIDs.boolean:e===Bt.ValuesTypesIDs.fixedKeyAndValuePairsObject||"function"==typeof e&&"Object"===e.name?Bt.ValuesTypesIDs.fixedKeyAndValuePairsObject:e===Bt.ValuesTypesIDs.indexedArrayOfUniformElements||"function"==typeof e&&"Array"===e.name?Bt.ValuesTypesIDs.indexedArrayOfUniformElements:e===Bt.ValuesTypesIDs.associativeArrayOfUniformTypeValues||"function"==typeof e&&"Map"===e.name?Bt.ValuesTypesIDs.associativeArrayOfUniformTypeValues:e===Bt.ValuesTypesIDs.oneOf?Bt.ValuesTypesIDs.oneOf:void k.throwErrorAndLog({errorInstance:new W({parameterNumber:1,parameterName:"valueType"}),title:W.localization.defaultTitle,occurrenceLocation:"RawObjectDataProcessor.processSingleNeitherUndefinedNorNullValue(valueType)"})}processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!Ie(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=this.processingApproach===Bt.ProcessingApproaches.existingObjectManipulation?e:{};const n=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let s=!1;for(const[a,l]of Object.entries(t.properties)){let t;this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[n]=a,o(l.newName)?(t=a,this.currentlyIteratedPropertyNewNameForLogging=null):(t=l.newName,this.currentlyIteratedPropertyNewNameForLogging=t);let u,c=e[a];const d=Bt.getNormalizedPreValidationModifications(l.preValidationModifications);d.length>0&&(u=z(c));for(const e of d)try{c=e(c)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:c,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u,thrownError:e}))}if(o(c)){if(!0===l.required){s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredPropertyIsMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:c,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u}));continue}if(F(l.requiredIf)&&l.requiredIf.predicate(e,this.rawData)){s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildConditionallyRequiredPropertyIsMissingWhileRequirementConditionSatisfiedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:c,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u,requirementConditionDescription:l.requiredIf.descriptionForLogging}));continue}if(F(l.defaultValue)){switch(this.processingApproach){case Bt.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:l.defaultValue,configurable:!R(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!R(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!R(l.makeReadonly)||l.makeReadonly});case Bt.ProcessingApproaches.existingObjectManipulation:}continue}continue}if($e(c)){if(!0!==l.nullable&&o(l.nullSubstitution)){s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildNonNullableValueIsNullErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:c,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u}));continue}if(F(l.nullSubstitution)){switch(this.processingApproach){case Bt.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:l.nullSubstitution,configurable:!R(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!R(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!R(l.makeReadonly)||l.makeReadonly});case Bt.ProcessingApproaches.existingObjectManipulation:}continue}if(!0===l.nullable){switch(this.processingApproach){case Bt.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:null,configurable:!R(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!R(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!R(l.makeReadonly)||l.makeReadonly});case Bt.ProcessingApproaches.existingObjectManipulation:}continue}}const m=this.processSingleNeitherUndefinedNorNullValue({targetValue:c,targetValueSpecification:l,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u});switch(this.processingApproach){case Bt.ProcessingApproaches.newObjectAssembling:if("isInvalid"in m){s=!0;continue}if("isValidButValidationOnlyModeActive"in m)continue;Object.defineProperty(i,t,{value:m.processedValue,configurable:!R(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!R(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!R(l.makeReadonly)||l.makeReadonly});case Bt.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of Bt.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:null!=r?r:this.rawData})||(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(s)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of Bt.getNormalizedPostValidationModifications(t.postValidationModifications))i=e(i);if(Be(t.propertiesWillBeDeletedAfterPostValidationModifications))for(const e of t.propertiesWillBeDeletedAfterPostValidationModifications)delete i[e];return{processedValue:i}}processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:e,targetIndexedArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!Array.isArray(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=!1;F(t.minimalElementsCount)&&e.length<t.minimalElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalElementsCount:t.minimalElementsCount,actualElementsCount:e.length}))),F(t.maximalElementsCount)&&e.length>t.maximalElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalElementsCount:t.maximalElementsCount,actualElementsCount:e.length}))),F(t.exactElementsCount)&&e.length!==t.exactElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,exactElementsCount:t.exactElementsCount,actualElementsCount:e.length})));let n=this.processingApproach===Bt.ProcessingApproaches.existingObjectManipulation?e:[];const s=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let l=!1;for(const[a,i]of e.entries()){this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[s]=a;let u,c=i;const d=Bt.getNormalizedPreValidationModifications(t.element.preValidationModifications);d.length>0&&(u=z(i));for(const e of d)try{c=e(c)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:c,targetPropertyValueSpecification:t.element,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u,thrownError:e}))}if(o(c)){!0!==t.allowUndefinedTypeElements&&(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayDisallowedUndefinedElementErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u})));continue}if($e(c)){!0!==t.allowNullElements&&(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayDisallowedNullElementErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u})));continue}const m=this.processSingleNeitherUndefinedNorNullValue({targetValue:c,targetValueSpecification:t.element,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u});switch(this.processingApproach){case Bt.ProcessingApproaches.newObjectAssembling:if("isInvalid"in m){l=!0;continue}if("isValidButValidationOnlyModeActive"in m)continue;n[a]=m.processedValue;case Bt.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of Bt.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:null!=r?r:this.rawData})||(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i||l)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of Bt.getNormalizedPostValidationModifications(t.postValidationModifications))n=e(n);return{processedValue:n}}processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:e,targetAssociativeArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){var i,n;if(!Ie(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let s=!1;if(F(t.minimalEntriesCount)&&Object.entries(e).length<t.minimalEntriesCount&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalEntriesCount:t.minimalEntriesCount,actualEntriesCount:Object.entries(e).length}))),F(t.maximalEntriesCount)&&Object.entries(e).length>t.maximalEntriesCount&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayPairsCountIsMoreThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalEntriesCount:t.maximalEntriesCount,actualEntriesCount:Object.entries(e).length}))),F(t.exactEntriesCount)&&Object.entries(e).length!==t.exactEntriesCount&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayPairsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,exactEntriesCount:t.exactEntriesCount,actualEntriesCount:Object.entries(e).length}))),Be(t.requiredKeys)){const r=[...t.requiredKeys].filter((t=>!Object.keys(e).includes(t)));r.length>0&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredKeysOfAssociativeArrayAreMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,missingRequiredKeys:r})))}if(Be(t.oneOfKeysIsRequired)){let r=!0;for(const a of Object.keys(e))if(t.oneOfKeysIsRequired.includes(a)){r=!1;break}r&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,requiredKeysAlternatives:t.oneOfKeysIsRequired})))}const l=[];if(Be(t.allowedKeys)){for(const r of Object.keys(e))t.allowedKeys.includes(r)||l.push(r);l.length>0&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildDisallowedKeysFoundInAssociativeArrayErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,foundDisallowedKeys:l})))}let u=this.processingApproach===Bt.ProcessingApproaches.existingObjectManipulation?e:{};const c=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let d=!1;for(const[a,s]of Object.entries(e)){if(this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[c]=a,l.includes(a))continue;let m,g=s;const p=Bt.getNormalizedPreValidationModifications(t.value.preValidationModifications);p.length>0&&(m=z(g));for(const e of p)try{g=e(g)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:g,targetPropertyValueSpecification:t.value,targetPropertyStringifiedValueBeforeFirstPreValidationModification:m,thrownError:e}))}const f=null!==(n=null===(i=t.keysRenamings)||void 0===i?void 0:i[a])&&void 0!==n?n:a;if(o(g)){!0!==t.allowUndefinedTypeValues&&(d=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.associativeArrayDisallowedUndefinedValueErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:m})));continue}if($e(g)){!0!==t.allowNullValues&&(d=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.associativeArrayDisallowedNullValueErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:m})));continue}const h=this.processSingleNeitherUndefinedNorNullValue({targetValue:g,targetValueSpecification:t.value,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:m});switch(this.processingApproach){case Bt.ProcessingApproaches.newObjectAssembling:if("isInvalid"in h){d=!0;continue}if("isValidButValidationOnlyModeActive"in h)continue;u[f]=h.processedValue;case Bt.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of Bt.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:null!=r?r:this.rawData})||(d=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(s||d)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of Bt.getNormalizedPostValidationModifications(t.postValidationModifications))u=e(u);return{processedValue:u}}processSingleNeitherUndefinedNorNullValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){switch(Bt.getNormalizedValueTypeID(t.type)){case Bt.ValuesTypesIDs.number:return this.processNumberValue({targetValue__expectedToBeNumber:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case Bt.ValuesTypesIDs.string:return this.processStringValue({targetValue__expectedToBeString:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case Bt.ValuesTypesIDs.boolean:return this.processBooleanValue({targetValue__expectedToBeBoolean:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case Bt.ValuesTypesIDs.fixedKeyAndValuePairsObject:return this.processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case Bt.ValuesTypesIDs.indexedArrayOfUniformElements:return this.processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:e,targetIndexedArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case Bt.ValuesTypesIDs.associativeArrayOfUniformTypeValues:return this.processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:e,targetAssociativeArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})}return t.type===Bt.ValuesTypesIDs.oneOf?this.processMultipleTypesAllowedValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}):(k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:`The specified value type '${t.type.toString()}' is not supported.`,occurrenceLocation:"RawObjectDataProcessor.process(rawData, validDataSpecification, options)-> processSingleNeitherUndefinedNorNullValue(parametersObject)"}),this.isValidationOnlyMode?{isValidButValidationOnlyModeActive:!0}:{isInvalid:!0})}processNumberValue({targetValue__expectedToBeNumber:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!B(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i;switch(t.numbersSet){case Bt.NumbersSets.naturalNumber:i=Pe(e);break;case Bt.NumbersSets.nonNegativeInteger:i=O(e);break;case Bt.NumbersSets.negativeInteger:i=Ve(e);break;case Bt.NumbersSets.negativeIntegerOrZero:i=Se(e);break;case Bt.NumbersSets.anyInteger:i=Number.isInteger(e);break;case Bt.NumbersSets.positiveDecimalFraction:i=Ae(e);break;case Bt.NumbersSets.negativeDecimalFraction:i=Me(e);break;case Bt.NumbersSets.decimalFractionOfAnySign:i=Ee(e);break;case Bt.NumbersSets.anyRealNumber:i=!0}if(!i)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,expectedNumbersSet:t.numbersSet})),{isInvalid:!0};if(F(t.allowedAlternatives)&&!t.allowedAlternatives.includes(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueIsNotAmongAllowedAlternativesErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(F(t.minimalValue)&&e<t.minimalValue)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumericValueIsSmallerThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,requiredMinimum:t.minimalValue,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(F(t.maximalValue)&&e>t.maximalValue)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumericValueIsGreaterThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,allowedMaximum:t.maximalValue})),{isInvalid:!0};let o=!1;for(const i of Bt.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:null!=r?r:this.rawData})||(o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,customValidationDescription:i.descriptionForLogging})));if(o)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let n=e;for(const e of Bt.getNormalizedPostValidationModifications(t.postValidationModifications))n=e(n);return{processedValue:n}}processStringValue({targetValue__expectedToBeString:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!S(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(F(t.allowedAlternatives)&&!t.allowedAlternatives.includes(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueIsNotAmongAllowedAlternativesErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(Pe(t.minimalCharactersCount)&&e.length<t.minimalCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountIsLessThanRequiredErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalCharactersCount:t.minimalCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(Pe(t.maximalCharactersCount)&&e.length>t.maximalCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountIsMoreThanAllowedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalCharactersCount:t.maximalCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(Pe(t.fixedCharactersCount)&&e.length!==t.fixedCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountDoesNotMatchWithSpecifiedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,fixedCharactersCount:t.fixedCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(F(t.validValueRegularExpression)&&!t.validValueRegularExpression.test(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildRegularExpressionMismatchErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,regularExpression:t.validValueRegularExpression})),{isInvalid:!0};let i=!1;for(const o of Bt.getNormalizedCustomValidators(t.customValidators))o.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:null!=r?r:this.rawData})||(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,customValidationDescription:o.descriptionForLogging})));if(i)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let o=e;for(const e of Bt.getNormalizedPostValidationModifications(t.postValidationModifications))o=e(o);return{processedValue:o}}processBooleanValue({targetValue__expectedToBeBoolean:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!R(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(!0===t.trueOnly&&!e||!0===t.falseOnly&&e)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildDisallowedBooleanValueVariantErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,disallowedVariant:!(!0===t.trueOnly)})),{isInvalid:!0};let i=!1;for(const o of Bt.getNormalizedCustomValidators(t.customValidators))o.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:null!=r?r:this.rawData})||(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:o.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let o=e;for(const e of Bt.getNormalizedPostValidationModifications(t.postValidationModifications))o=e(o);return{processedValue:o}}processMultipleTypesAllowedValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){let i;switch(typeof e){case"number":i=t.alternatives.find((e=>e.type===Bt.ValuesTypesIDs.number||e.type===Number));break;case"string":i=t.alternatives.find((e=>e.type===Bt.ValuesTypesIDs.string||e.type===String));break;case"boolean":i=t.alternatives.find((e=>e.type===Bt.ValuesTypesIDs.boolean||e.type===Boolean));break;case"object":{if(Array.isArray(e)){i=t.alternatives.find((e=>e.type===Bt.ValuesTypesIDs.indexedArrayOfUniformElements||e.type===Array));break}const r=t.alternatives.filter((e=>e.type===Bt.ValuesTypesIDs.fixedKeyAndValuePairsObject||e.type===Bt.ValuesTypesIDs.associativeArrayOfUniformTypeValues||e.type===Object||e.type===Map));if(r.length>1)return k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:this.validationErrorsMessagesBuilder.buildIncompatibleValuesTypesAlternativesErrorDescription(t),occurrenceLocation:"RawObjectDataProcessor.processMultipleTypesAllowedValue(parametersObject)"}),{isInvalid:!0};i=r[0];break}}return o(i)?(k.logError({errorType:W.NAME,title:W.localization.defaultTitle,description:this.validationErrorsMessagesBuilder.buildUnsupportedValueTypeErrorDescription({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}),occurrenceLocation:"RawObjectDataProcessor.processMultipleTypesAllowedValue(parametersObject)"}),{isInvalid:!0}):this.processSingleNeitherUndefinedNorNullValue({targetValue:e,targetValueSpecification:i,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})}registerValidationError(e){this.rawDataIsInvalid=!0,this.validationErrorsMessages.push(e)}get currentObjectPropertyDotSeparatedQualifiedName(){return this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.join(".")}get isValidationOnlyMode(){return this.rawDataIsInvalid}static getNormalizedPreValidationModifications(e=[]){return Array.isArray(e)?e:[e]}static getNormalizedPostValidationModifications(e=[]){return Array.isArray(e)?e:[e]}static getNormalizedCustomValidators(e=[]){return Array.isArray(e)?e:[e]}}Bt.defaultLocalization=jt,function(e){let t,r,a,i;!function(e){e.newObjectAssembling="ASSEMBLING_OF_NEW_OBJECT",e.existingObjectManipulation="MANIPULATING_OF_EXISTING_OBJECT"}(t=e.ProcessingApproaches||(e.ProcessingApproaches={})),function(e){e.fixedKeyAndValuePairsObject="FIXED_KEY_AND_VALUE_PAIRS_OBJECT",e.indexedArray="INDEXED_ARRAY",e.associativeArray="ASSOCIATIVE_ARRAY"}(r=e.ObjectSubtypes||(e.ObjectSubtypes={})),function(e){e.number="NUMBER",e.string="STRING",e.boolean="BOOLEAN",e.fixedKeyAndValuePairsObject="FIXED_KEY_AND_VALUE_PAIRS_OBJECT",e.indexedArrayOfUniformElements="INDEXED_ARRAY_OF_UNIFORM_ELEMENTS",e.associativeArrayOfUniformTypeValues="ASSOCIATIVE_ARRAY_OF_UNIFORM_TYPE_VALUES",e.oneOf="ONE_OF"}(a=e.ValuesTypesIDs||(e.ValuesTypesIDs={})),function(e){e.naturalNumber="NATURAL_NUMBER",e.nonNegativeInteger="NON_NEGATIVE_INTEGER",e.negativeInteger="NEGATIVE_INTEGER",e.negativeIntegerOrZero="NEGATIVE_INTEGER_OR_ZERO",e.anyInteger="ANY_INTEGER",e.positiveDecimalFraction="POSITIVE_DECIMAL_FRACTION",e.negativeDecimalFraction="NEGATIVE_DECIMAL_FRACTION",e.decimalFractionOfAnySign="DECIMAL_FRACTION_OF_ANY_SIGN",e.anyRealNumber="ANY_REAL_NUMBER"}(i=e.NumbersSets||(e.NumbersSets={})),e.ValidationErrorsMessagesBuilder=class{constructor(e){this.localization=e,this.buildErrorMessage=e.errorMessageBasicTemplate.bind(this.localization)}get rawDataIsNullErrorMessage(){return this.localization.rawDataIsNullErrorMessage}buildRawDataIsNotObjectErrorMessage(e){return this.localization.buildRawDataIsNotObjectErrorMessage(e)}buildValueTypeDoesNotMatchWithExpectedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildValueTypeDoesNotMatchWithExpectedErrorMessageTextData({targetPropertyValue:e.targetPropertyValue,targetPropertyValueSpecification:e.targetPropertyValueSpecification})})}buildPreValidationModificationFailedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildPreValidationModificationFailedErrorMessageTextData(e.thrownError)})}buildRequiredPropertyIsMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.requiredPropertyIsMissingErrorMessageTextData})}buildConditionallyRequiredPropertyIsMissingWhileRequirementConditionSatisfiedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildConditionallyRequiredPropertyIsMissingErrorMessageTextData(e.requirementConditionDescription)})}buildNonNullableValueIsNullErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.nonNullableValueIsNullErrorMessageTextData})}buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessageTextData({minimalElementsCount:e.minimalElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessageTextData({maximalElementsCount:e.maximalElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData({exactElementsCount:e.exactElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayDisallowedUndefinedElementErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.indexedArrayDisallowedUndefinedElementErrorMessageTextData})}buildIndexedArrayDisallowedNullElementErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.indexedArrayDisallowedNullElementErrorMessageTextData})}buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessageTextData({minimalEntriesCount:e.minimalEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildAssociativeArrayPairsCountIsMoreThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountIsMoreThanAllowedMaximumErrorMessageTextData({maximalEntriesCount:e.maximalEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildAssociativeArrayPairsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData({exactEntriesCount:e.exactEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildRequiredKeysOfAssociativeArrayAreMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRequiredKeysOfAssociativeArrayAreMissingErrorMessageTextData(e.missingRequiredKeys)})}buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessageTextData(e.requiredKeysAlternatives)})}buildDisallowedKeysFoundInAssociativeArrayErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildDisallowedKeysFoundInAssociativeArrayErrorMessageTextData(e.foundDisallowedKeys)})}associativeArrayDisallowedUndefinedValueErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.associativeArrayDisallowedUndefinedValueErrorMessageTextData})}associativeArrayDisallowedNullValueErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.associativeArrayDisallowedNullValueErrorMessageTextData})}buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessageTextData(e.expectedNumbersSet),expectedNumbersSet:e.expectedNumbersSet})}buildValueIsNotAmongAllowedAlternativesErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.valueIsNotAmongAllowedAlternativesErrorMessageTextData})}buildNumericValueIsSmallerThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumericValueIsSmallerThanRequiredMinimumErrorMessageTextData(e.requiredMinimum)})}buildNumericValueIsGreaterThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumericValueIsGreaterThanAllowedMaximumErrorMessageTextData(e.allowedMaximum)})}buildCharactersCountIsLessThanRequiredErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountIsLessThanRequiredErrorMessageTextData({minimalCharactersCount:e.minimalCharactersCount,realCharactersCount:e.realCharactersCount})})}buildCharactersCountIsMoreThanAllowedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountIsMoreThanAllowedErrorMessageTextData({maximalCharactersCount:e.maximalCharactersCount,realCharactersCount:e.realCharactersCount})})}buildCharactersCountDoesNotMatchWithSpecifiedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountDoesNotMatchWithSpecifiedErrorMessageTextData({fixedCharactersCount:e.fixedCharactersCount,realCharactersCount:e.realCharactersCount})})}buildRegularExpressionMismatchErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRegularExpressionMismatchErrorMessageTextData(e.regularExpression)})}buildDisallowedBooleanValueVariantErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildDisallowedBooleanValueVariantErrorMessageTextData(e.disallowedVariant)})}buildIncompatibleValuesTypesAlternativesErrorDescription(e){return this.localization.buildIncompatibleValuesTypesAlternativesErrorDescription(e)}buildUnsupportedValueTypeErrorDescription(e){return this.buildErrorMessage({...e,...this.localization.buildUnsupportedValueTypeErrorMessageTextData(e)})}buildCustomValidationFailedErrorMessageTextData(e){return this.buildErrorMessage({...e,...this.localization.buildCustomValidationFailedErrorMessageTextData(e.customValidationDescription)})}}}(Bt||(Bt={}));const Rt=Bt;function $t(e){if(!S(e)||!x(e,{digits:!0,other:"."}))return e;const t=e.includes(".")?parseFloat(e):parseInt(e,10);return isNaN(t)?e:t}function zt(e){if(!S(e)||!N(e))return e;const t=parseInt(e,10);return isNaN(t)?e:t}function Qt(e){if(!S(e)||!x(e,{digits:!0,other:"."}))return e;const t=parseFloat(e);return isNaN(t)?e:t}function kt(e){return`mailto:${e}`}function Ut(e){return`tel:${e}`}const qt={defaultTitle:"Invalid external data",generateDescription:e=>`The data '${e.mentionToExpectedData}' does not match with expected.${C(e.messageSpecificPart,{modifier:e=>`\n${e}`})}`};class Wt extends Error{constructor(e){super(),this.name=Wt.NAME,this.message="customMessage"in e?e.customMessage:Wt.localization.generateDescription(e)}}Wt.NAME="InvalidExternalDataError",Wt.localization=qt;const Gt=Wt;class Kt{static processParameter({rawParameter:e,parameterNumber:t,parameterName:r,parameterPropertiesSpecification:a,mixinName:i}){const o=Kt.getMixinParameterRequiredPropertiesNames(a);if($(e)){o.length>0&&k.throwErrorAndLog({errorInstance:new W({parameterName:i,parameterNumber:1,messageSpecificPart:`Object type parameter No. ${t} (named as '${r}') of mixin '${i}' has been omitted while it has required properties: \n ${z(o)}`}),title:W.localization.defaultTitle,occurrenceLocation:"PugMixinsObjectTypeParametersProcessor.processParameter(namedParameters)"});const e={};return Kt.substituteDefaultValues(e,a),e}Ie(e)||k.throwErrorAndLog({errorInstance:new W({parameterName:r,parameterNumber:1,messageSpecificPart:`The parameter No. ${t} (named as '${r}') of mixin '${i}' must be an object.`}),title:W.localization.defaultTitle,occurrenceLocation:"PugMixinsObjectTypeParametersProcessor.processParameter(namedParameters)"});const n=Rt.process(e,{nameForLogging:"MixinParameterProperties",subtype:Rt.ObjectSubtypes.fixedKeyAndValuePairsObject,properties:a});return n.rawDataIsInvalid&&k.throwErrorAndLog({errorInstance:new Gt({mentionToExpectedData:`Parameter No. ${t} of mixin '${i}'`,messageSpecificPart:Rt.formatValidationErrorsList(n.validationErrorsMessages)}),title:Gt.localization.defaultTitle,occurrenceLocation:"PugMixinsObjectTypeParametersProcessor.processParameter(namedParameters)"}),n.processedData}static getMixinParameterRequiredPropertiesNames(e){const t=[];for(const[r,a]of Object.entries(e))!0===a.required&&t.push(r);return t}static substituteDefaultValues(e,t){for(const[r,a]of Object.entries(t))!o(a.defaultValue)&&o(e[r])&&(e[r]=a.defaultValue)}}return r})()));
